{{- if and .Values.cli.enabled (not .Values.cli.existingSecret) }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "splunk-tui.fullname" . }}-cli
  labels:
    {{- include "splunk-tui.labels" . | nindent 4 }}
    app.kubernetes.io/component: cli
type: Opaque
stringData:
  SPLUNK_BASE_URL: {{ .Values.cli.splunk.baseUrl | quote }}
  SPLUNK_USERNAME: {{ .Values.cli.splunk.username | quote }}
  SPLUNK_PASSWORD: {{ .Values.cli.splunk.password | quote }}
  SPLUNK_SKIP_VERIFY: {{ .Values.cli.splunk.skipVerify | quote }}
{{- end }}
{{- if and .Values.tui.enabled (not .Values.tui.existingSecret) }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "splunk-tui.fullname" . }}-tui
  labels:
    {{- include "splunk-tui.labels" . | nindent 4 }}
    app.kubernetes.io/component: tui
type: Opaque
stringData:
  SPLUNK_BASE_URL: {{ .Values.tui.splunk.baseUrl | quote }}
  SPLUNK_USERNAME: {{ .Values.tui.splunk.username | quote }}
  SPLUNK_PASSWORD: {{ .Values.tui.splunk.password | quote }}
  SPLUNK_SKIP_VERIFY: {{ .Values.tui.splunk.skipVerify | quote }}
{{- end }}
