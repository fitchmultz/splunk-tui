{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0022",
      "status": "done",
      "title": "Add --help/usage with examples to live test script",
      "priority": "low",
      "tags": [
        "scripts",
        "docs",
        "workflow"
      ],
      "scope": [
        "scripts/test-live-server.sh"
      ],
      "evidence": [
        "scripts/test-live-server.sh is executable but does not handle --help or document usage/examples.",
        "AGENTS.md requires executable scripts to provide a useful --help menu with examples."
      ],
      "plan": [
        "Add argument parsing for --help and print usage with example commands.",
        "Document required environment variables or prerequisites in the help output.",
        "Add a small test or lint check (if available) to ensure help output stays in sync."
      ],
      "notes": [
        "Added show_help() function with comprehensive usage documentation (USAGE, DESCRIPTION, REQUIREMENTS, AUTHENTICATION, EXAMPLES, TESTS RUN sections).",
        "Added argument parsing loop supporting --help and -h flags with immediate exit.",
        "Added error handling for unknown arguments with helpful message pointing to --help.",
        "Added BLUE color constant for consistent output formatting.",
        "Verified help output works correctly: ./scripts/test-live-server.sh --help, ./scripts/test-live-server.sh -h, and ./scripts/test-live-server.sh --invalid all behave as expected.",
        "No automated test added as bash scripts lack automated help validation in this repo; manual review is sufficient for this simple change.",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T17:00:00Z",
      "completed_at": "2026-01-20T17:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0018",
      "status": "done",
      "title": "Enable search results scrolling in the TUI search screen",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/popup.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs maintains search_scroll_offset but navigation helpers only update Jobs/Indexes selection, not search results.",
        "Search screen accepts PageUp/PageDown actions but search_scroll_offset is never updated.",
        "go_to_bottom() does NOT handle CurrentScreen::Search (only Jobs/Indexes)."
      ],
      "plan": [
        "Add scroll handling for search results (PageUp/PageDown/Home/End) that updates search_scroll_offset with bounds checks.",
        "Update help text or footer hints to indicate scrolling controls on the Search screen.",
        "Add tests to cover search scrolling and rendering with offsets."
      ],
      "notes": [
        "Fixed go_to_bottom() in app.rs to handle CurrentScreen::Search - now scrolls to last valid result offset.",
        "Added bounds checking to next_page() for Search screen - clamps offset to prevent scrolling past results.",
        "previous_page() already uses saturating_sub which prevents going below 0.",
        "Updated help popup in popup.rs to document PgDn/PgUp/Home/End controls for Search screen.",
        "Added 10 comprehensive unit tests in app_tests.rs: test_search_page_down_scrolls_by_10, test_search_page_up_scrolls_back, test_search_page_down_clamps_at_end, test_search_page_up_clamps_at_zero, test_search_page_up_from_zero_stays_at_zero, test_search_go_to_top, test_search_go_to_bottom, test_search_go_to_bottom_with_empty_results, test_search_scroll_with_single_result, test_search_go_to_top_from_bottom.",
        "Added snapshot test in snapshot_tests.rs: snapshot_search_screen_scrolled (verifies scrolled rendering shows different results).",
        "All 47 TUI tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T11:30:00Z",
      "completed_at": "2026-01-20T11:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0017",
      "status": "done",
      "title": "Define default behavior for `splunk jobs` when no flags are set",
      "priority": "medium",
      "tags": [
        "cli",
        "jobs",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/jobs.rs",
        "crates/cli/tests/jobs_tests.rs",
        "crates/cli/Cargo.toml"
      ],
      "evidence": [
        "crates/cli/src/commands/jobs.rs only runs list when --list is set; otherwise no output or error is produced.",
        "Users invoking `splunk jobs` without flags get a silent no-op."
      ],
      "plan": [
        "Decide on default behavior (list jobs) or enforce mutually exclusive flags with clap.",
        "Implement the default or clap validation and update help text.",
        "Add tests for the default/no-flag behavior."
      ],
      "notes": [
        "Set default_value=\"true\" for --list flag in crates/cli/src/main.rs to make listing the default action.",
        "Updated help text to indicate --list is the default action: 'List all search jobs (default action)'.",
        "Modified crates/cli/src/commands/jobs.rs to set list=false when --cancel or --delete is used, ensuring those actions don't also list jobs.",
        "Added predicates dependency to crates/cli/Cargo.toml for test assertions.",
        "Created crates/cli/tests/jobs_tests.rs with 5 integration tests: test_jobs_default_lists, test_jobs_explicit_list_flag, test_jobs_cancel_flag, test_jobs_delete_flag, test_jobs_help_shows_list_flag.",
        "Tests verify default behavior (no args = list jobs), explicit --list flag, --cancel/--delete flags bypass listing, and help text shows --list flag.",
        "All 5 jobs CLI tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T10:00:00Z",
      "completed_at": "2026-01-20T10:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0014",
      "status": "done",
      "title": "Improve CLI formatters to render non-string values and CSV escaping",
      "priority": "medium",
      "tags": [
        "cli",
        "formatting",
        "ux"
      ],
      "scope": [
        "crates/cli/src/formatters.rs",
        "crates/cli/src/commands/"
      ],
      "evidence": [
        "crates/cli/src/formatters.rs uses value.as_str().unwrap_or(\"\") for table/csv/xml formatting, dropping numbers/booleans/objects.",
        "CSV output is emitted without escaping commas or quotes, which can corrupt rows."
      ],
      "plan": [
        "Convert serde_json::Value to strings using a consistent formatter (stringify scalars, JSON for objects/arrays).",
        "Implement CSV escaping (quotes/double-quotes/newlines) for both headers and values.",
        "Expand formatter tests to cover numeric/boolean values and escaping."
      ],
      "notes": [
        "Added format_json_value() helper function to convert any JSON value to string representation (strings as-is, numbers/booleans to string, null to empty, arrays/objects to compact JSON).",
        "Added escape_csv() helper function implementing RFC 4180 CSV escaping (quotes around fields with comma/quote/newline, double internal quotes).",
        "Updated TableFormatter to use format_json_value() instead of value.as_str().unwrap_or(\"\").",
        "Updated CsvFormatter to apply escape_csv() to all headers and values in format_search_results, format_indexes, format_jobs, and format_cluster_info.",
        "Updated XmlFormatter to use format_json_value() before escape_xml() in format_search_results.",
        "Added comprehensive test coverage: test_csv_escaping (quotes, commas, newlines), test_format_json_value (all value types), test_table_formatter_with_non_string_values, test_csv_formatter_with_non_string_values, test_xml_formatter_with_non_string_values, test_value_rendering (cross-formatter verification).",
        "All 12 formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-19T23:10:15Z",
      "completed_at": "2026-01-20T08:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0023",
      "status": "done",
      "title": "Align Makefile with required targets (generate + build install)",
      "priority": "medium",
      "tags": [
        "workflow",
        "makefile",
        "contract"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "AGENTS.md requires Makefile targets including generate, but Makefile has no generate target.",
        "AGENTS.md requires build to also install to ~/.local/bin when applicable, but Makefile build only runs cargo build --release.",
        "AGENTS.md requires install to only fetch dependencies, not install binaries."
      ],
      "plan": [
        "Add a generate target (no-op with a clear message if no codegen is needed yet).",
        "Update build to install release binaries to ~/.local/bin or document why it cannot.",
        "Update install to use cargo fetch instead of cargo install.",
        "Ensure make ci includes generate when applicable and keep help output in sync."
      ],
      "notes": [
        "Added generate target as no-op with message 'No code generation required for this project.'",
        "Updated install target from cargo install to cargo fetch (fetch dependencies only).",
        "Updated build target to install release binaries (splunk, splunk-tui) to ~/.local/bin after building.",
        "Updated ci target to include install at start and generate after format: install format generate lint type-check test build",
        "Updated help target to reflect new target descriptions and behaviors.",
        "Added generate to .PHONY declaration.",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T08:00:00Z",
      "completed_at": "2026-01-20T08:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0013",
      "status": "done",
      "title": "Move live tests into a workspace crate or add a runnable test harness",
      "priority": "high",
      "tags": [
        "tests",
        "workflow",
        "live"
      ],
      "scope": [
        "tests/live_tests.rs",
        "crates/client/tests/",
        "Makefile"
      ],
      "evidence": [
        "tests/live_tests.rs lives at workspace root, but Cargo.toml is a virtual workspace with no root package to host integration tests.",
        "Makefile test-live targets a root test that is not discoverable in the workspace layout."
      ],
      "plan": [
        "Relocate live_tests.rs into a specific crate (likely crates/client/tests) or add a minimal root package to host it.",
        "Adjust dotenv path usage to reflect the new test location.",
        "Update Makefile test-live to point at the new test target."
      ],
      "notes": [
        "Moved live_tests.rs from workspace root tests/ to crates/client/tests/ where integration tests belong.",
        "Updated .env.test path resolution to use CARGO_MANIFEST_DIR and navigate two levels up to workspace root.",
        "Added dotenvy dev-dependency to crates/client/Cargo.toml (workspace = true).",
        "Fixed all API calls to match current SplunkClient API (AuthStrategy::SessionToken, builder pattern, &mut self methods).",
        "Updated Makefile test-live target: `cargo test -p splunk-client --test live_tests -- --ignored`.",
        "Deleted legacy tests/ directory at workspace root.",
        "All 6 live tests now pass: make test-live (requires live Splunk server).",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T06:45:00Z",
      "completed_at": "2026-01-20T06:45:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0011",
      "status": "done",
      "title": "Fix client integration test fixture path to be manifest-relative",
      "priority": "high",
      "tags": [
        "tests",
        "client",
        "fixtures"
      ],
      "scope": [
        "crates/client/tests/integration_tests.rs",
        "crates/client/fixtures/"
      ],
      "evidence": [
        "crates/client/tests/integration_tests.rs loads fixtures from Path::new(\"fixtures\"), but fixtures live under crates/client/fixtures.",
        "There is no top-level fixtures directory at repo root, so tests will fail when run from workspace root."
      ],
      "plan": [
        "Use CARGO_MANIFEST_DIR to build an absolute path to crates/client/fixtures.",
        "Update load_fixture to reference the correct fixture base path.",
        "Run integration tests to ensure fixtures resolve from workspace root."
      ],
      "notes": [
        "Updated load_fixture() to use env!(\"CARGO_MANIFEST_DIR\") for manifest-relative fixture path resolution.",
        "Changed from std::path::Path::new(\"fixtures\") to manifest_dir.join(\"fixtures\") for absolute path construction.",
        "Tests now resolve fixtures correctly from any working directory (workspace root, crate directory, etc.).",
        "All 22 integration tests pass: cargo test -p splunk-client --test integration_tests",
        "make ci completes successfully with no regressions."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T06:30:00Z",
      "completed_at": "2026-01-20T06:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0010",
      "status": "done",
      "title": "Remove Box::leak in jobs status rendering to avoid memory leaks",
      "priority": "high",
      "tags": [
        "tui",
        "ui",
        "memory"
      ],
      "scope": [
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/screens/jobs.rs uses Box::leak to extend the lifetime of status text for table rows.",
        "Box::leak leaks memory per render and can grow unbounded during UI usage."
      ],
      "plan": [
        "Refactor status text construction to use owned Strings without leaking (e.g., build String and pass to Cell::from).",
        "Ensure highlight logic still works with owned status strings.",
        "Add a unit or snapshot test to validate the running status text formatting."
      ],
      "notes": [
        "Replaced Box::leak pattern with owned String values for status text (Done, Running, Running (X%)).",
        "Updated highlight_match() function to accept owned String and return Cell<'static> instead of borrowing input.",
        "Fixed all snapshot tests that were broken due to missing filtered_job_indices population (tests don't trigger event handlers).",
        "Added new snapshot test snapshot_jobs_screen_running_with_progress() specifically testing 'Running (73%)' format.",
        "All 22 snapshot tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:00:00Z",
      "completed_at": "2026-01-20T06:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0001",
      "status": "done",
      "title": "Refactor popup UI to Builder pattern and add structured logging",
      "priority": "high",
      "tags": [
        "ui",
        "refactor",
        "logging",
        "foundation"
      ],
      "scope": [
        "crates/tui/src/ui/popup.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs",
        "crates/tui/tests/snapshot_tests.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/src/lib.rs",
        "crates/tui/Cargo.toml",
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/src/action.rs",
        "crates/tui/tests/helpers.rs"
      ],
      "evidence": [
        "Plan FLIGHT 1: Foundation Refactor (Popup Builder & Observability)",
        "Objective: Execute architectural evolution to establish UI robustness"
      ],
      "plan": [
        "Modify crates/tui/src/ui/popup.rs: Implement PopupBuilder with fluent API (title, content, style, build). Replace static helper functions with flexible render method accepting Popup state.",
        "Modify crates/tui/src/app.rs: Define const values for UI layout (header height, footer height). Update Popup enum to use richer structure (Confirm {title, message, action}, Info {title, message}, Help) and integrate with Builder.",
        "Modify crates/tui/src/main.rs: Initialize tracing with subscriber that logs to file (tui interferes with stdout). Add info! logs on Action receipt for observability.",
        "Modify crates/tui/tests/snapshot_tests.rs: Update popup test fixtures to use new Builder syntax. Remove unused import: helpers::*."
      ],
      "notes": [
        "Added PopupType enum (Help, ConfirmCancel(String), ConfirmDelete(String)) and Popup struct with title, content, kind fields.",
        "Implemented PopupBuilder with fluent API (title(), content(), build()).",
        "Added layout constants: HEADER_HEIGHT = 3, FOOTER_HEIGHT = 3, POPUP_WIDTH_PERCENT = 60, POPUP_HEIGHT_PERCENT = 20.",
        "Refactored render_popup() to use Popup struct instead of enum, extracting kind field for pattern matching.",
        "Updated all popup creation sites to use Builder pattern: Popup::builder(PopupType::Help).build().",
        "Added file-based logging with tracing-appender: logs/splunk-tui.log with daily rotation.",
        "Added action logging in main loop: tracing::info!(?action, \"Handling action\").",
        "Updated lib.rs to re-export Popup, PopupType, HEADER_HEIGHT, FOOTER_HEIGHT.",
        "Updated all tests to use new Builder API and match on popup.kind field.",
        "Added Default implementations for SortState and App (clippy requirements).",
        "Refactored render_jobs() to use JobsRenderConfig struct to fix clippy too_many_arguments warning.",
        "Fixed all clippy warnings (dead_code, new_without_default, too_many_arguments)."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T00:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0002",
      "status": "done",
      "title": "Implement Job Inspection details view screen",
      "priority": "high",
      "tags": [
        "ui",
        "feature",
        "inspection",
        "state"
      ],
      "scope": [
        "crates/tui/src/ui/screens/job_details.rs",
        "crates/tui/src/ui/screens/mod.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/action.rs",
        "crates/tui/src/ui/popup.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "Plan FLIGHT 2: Job Inspection (Details View)",
        "Unlock data depth with detailed job inspection capability"
      ],
      "plan": [
        "Create crates/tui/src/ui/screens/job_details.rs: Implement render_details(f: &mut Frame, job: &SearchJobStatus, area: Rect). Use List or Table to show all fields of SearchJobStatus.",
        "Modify crates/tui/src/ui/screens/mod.rs: Export new job_details module.",
        "Modify crates/tui/src/action.rs: Add InspectJob and ExitScreen actions. Remove dead_code warnings for SearchInput and ToggleSortDirection by implementing usage or removing unused variants.",
        "Modify crates/tui/src/app.rs: Add JobDetails variant to CurrentScreen enum. Add selected_job: Option<SearchJobStatus> to App struct. In render(), route CurrentScreen::JobDetails to screens::job_details::render_details.",
        "Modify crates/tui/src/ui/screens/jobs.rs: In handle_input, map Enter key to Action::InspectJob."
      ],
      "notes": [
        "Created job_details.rs screen module with render_details() function displaying all SearchJobStatus fields (SID, status with color-coding, duration, event/scan/result counts, disk usage, priority, label, cursor time, finalized status).",
        "Added JobInspect variant to CurrentScreen enum in app.rs.",
        "Added InspectJob and ExitInspectMode actions to action.rs.",
        "Implemented handle_job_inspect_input() method in app.rs with Esc key to exit inspect mode.",
        "Mapped Enter key in handle_jobs_input() to trigger InspectJob action.",
        "Added render_job_details() helper method that dynamically retrieves selected job from jobs list using jobs_state.selected().",
        "Added JobInspect branch to render_content() match statement.",
        "Updated header rendering to show 'Job Details' when in JobInspect screen.",
        "Updated help popup to include 'Enter Inspect job' under Jobs Screen and 'Esc Back to jobs' under Job Details Screen.",
        "Added three state transition tests in app_tests.rs: test_job_inspection_flow, test_job_inspection_without_jobs, test_job_inspect_help_popup.",
        "Added four snapshot tests in snapshot_tests.rs: snapshot_job_details_screen_with_job, snapshot_job_details_screen_running_job, snapshot_job_details_screen_no_job, snapshot_job_details_screen_with_help_popup.",
        "All tests pass and make ci completes successfully."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T00:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0003",
      "status": "done",
      "title": "Implement configuration persistence with directories and JSON",
      "priority": "medium",
      "tags": [
        "config",
        "persistence",
        "cross-platform",
        "serialization",
        "json"
      ],
      "scope": [
        "crates/config/Cargo.toml",
        "crates/config/src/persistence.rs",
        "crates/config/src/lib.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs"
      ],
      "evidence": [
        "Plan FLIGHT 3: Configuration Persistence",
        "Establish permanence with cross-platform config storage",
        "User feedback: JSON is more robust and safe than TOML for config persistence"
      ],
      "plan": [
        "Modify crates/config/Cargo.toml: Add directories = \"6.0\" for cross-platform config paths. Add serde_json = { workspace = true } to dependencies (already in workspace, just reference it).",
        "Create crates/config/src/persistence.rs: Implement PersistedState struct with Serialize/Deserialize derives (auto_refresh: bool, sort_column: String, sort_direction: String, last_search_query: Option<String>). Implement ConfigManager with load_or_default() using serde_json::from_str and save() using serde_json::to_string_pretty.",
        "Modify crates/config/src/lib.rs: Export persistence types (PersistedState, ConfigManager).",
        "Modify crates/tui/src/app.rs: Add UserConfig struct to state. Initialize App state (auto_refresh, sort) from loaded config.",
        "Modify crates/tui/src/main.rs: Load config on startup via ConfigManager. Call ConfigManager::save on Action::Quit to persist state."
      ],
      "notes": [
        "Added directories = \"6.0\" and serde_json = { workspace = true } dependencies to crates/config/Cargo.toml.",
        "Added tracing = { workspace = true } for logging in config crate.",
        "Created crates/config/src/persistence.rs with PersistedState struct (auto_refresh: bool, sort_column: String, sort_direction: String, last_search_query: Option<String>) and Default impl.",
        "Implemented ConfigManager with new() -> Result<Self> using ProjectDirs::from(\"com\", \"splunk-tui\", \"splunk-tui\").",
        "Implemented load() -> PersistedState that returns default on missing/error with warning log.",
        "Implemented save(&self, state: &PersistedState) -> Result<()> that creates parent dirs and writes to config.json.",
        "Exported ConfigManager and PersistedState from crates/config/src/lib.rs.",
        "Added as_str() methods to SortColumn and SortDirection enums for serialization.",
        "Added parse_sort_column() and parse_sort_direction() helper functions for deserialization with fallback defaults.",
        "Modified App::new() to accept Option<PersistedState> parameter and initialize state from persisted values.",
        "Added App::get_persisted_state() -> PersistedState method to export current state.",
        "Modified crates/tui/src/main.rs to initialize ConfigManager, load persisted state on startup, and save on quit.",
        "Updated Default impl for App to call App::new(None).",
        "Fixed all test files (app_tests.rs, snapshot_tests.rs) to call App::new(None).",
        "All tests pass and make ci completes successfully."
      ],
      "request": "Review the RQ-0003 task and dependent tasks in the queue. I think using JSON for config persistence is a more robust and safe choice. If you agree, update the task and any dependent tasks.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-20T03:27:48Z",
      "completed_at": "2026-01-20T03:30:00Z",
      "depends_on": [
        "RQ-0002"
      ]
    },
    {
      "id": "RQ-0004",
      "status": "done",
      "title": "Implement async toast notifications with UUID tracking",
      "priority": "medium",
      "tags": [
        "ui",
        "async",
        "notifications",
        "feedback"
      ],
      "scope": [
        "crates/tui/Cargo.toml",
        "crates/tui/src/ui/toast.rs",
        "crates/tui/src/ui/mod.rs",
        "crates/tui/src/lib.rs",
        "crates/tui/src/action.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "Plan FLIGHT 4: Async Orchestration & Feedback",
        "Refine user feedback with async notification system"
      ],
      "plan": [
        "Modify crates/tui/Cargo.toml: Add uuid = { version = \"1.11\", features = [\"v4\"] } for unique async operation tracking.",
        "Create crates/tui/src/ui/toast.rs: Implement ToastLevel enum (Info, Success, Warning, Error). Implement Toast struct (id: Uuid, message: String, level: ToastLevel, created_at: Instant, ttl: Duration). Implement render_toasts() function for bottom-right overlay rendering.",
        "Modify crates/tui/src/ui/mod.rs: Export toast module and re-export Toast, ToastLevel.",
        "Modify crates/tui/src/lib.rs: Re-export Toast and ToastLevel at crate root.",
        "Modify crates/tui/src/action.rs: Add Notify(ToastLevel, String) and Tick action variants. Remove Error(String) variant.",
        "Modify crates/tui/src/app.rs: Replace error: Option<String> with toasts: Vec<Toast>. Add TTL pruning logic in Tick handler. Update render() to call render_toasts() and remove error footer display.",
        "Modify crates/tui/src/main.rs: Change tick interval from 1s to 250ms for smooth animations. Separate data refresh (5s) from UI tick (250ms). Update handle_side_effects to emit Action::Notify instead of Action::Error.",
        "Modify crates/tui/tests/app_tests.rs: Update error test to use toasts. Add test_notify_adds_toast and test_tick_prunes_expired_toasts tests.",
        "Modify crates/tui/tests/snapshot_tests.rs: Update snapshot_error_state to use Toast::error() instead of error field."
      ],
      "notes": [
        "Added uuid = { version = \"1.11\", features = [\"v4\"] } dependency to crates/tui/Cargo.toml.",
        "Created crates/tui/src/ui/toast.rs with ToastLevel enum (Info, Success, Warning, Error), Toast struct with UUID/ttl/created_at fields, and render_toasts() function.",
        "Toast TTL by level: Info/Success/Warning = 5 seconds, Error = 10 seconds.",
        "Implemented Toast constructors: info(), success(), warning(), error().",
        "Added #[allow(dead_code)] attributes for public API methods not yet used (remaining, info, success, warning, from_str, non-Error ToastLevel variants).",
        "Exported toast module from ui/mod.rs and re-exported Toast, ToastLevel from lib.rs.",
        "Added Notify(ToastLevel, String) and Tick actions to action.rs. Removed Error(String) variant.",
        "Replaced App.error field with App.toasts: Vec<Toast>.",
        "Added Tick handler to prune expired toasts using retain().",
        "Updated all error handling to push Toast::error() instead of setting error field.",
        "Changed main loop tick interval from 1s to 250ms for smooth UI animations and TTL pruning.",
        "Decoupled data refresh (5s interval) from UI tick (250ms interval) for responsive UI.",
        "Updated handle_side_effects to emit Action::Notify(ToastLevel::Error, ...) for cancel/delete job failures.",
        "Updated footer rendering to remove error display (now shown as toasts).",
        "Added render_toasts() call in App::render() after footer, before popup (toasts render below popups).",
        "Updated tests: test_error_state_clears_on_loading -> test_notify_adds_toast, added test_tick_prunes_expired_toasts.",
        "Updated snapshot_error_state to use Toast::error() with bottom-right overlay rendering.",
        "Fixed clippy warnings: added #[allow(clippy::should_implement_trait)] for from_str, used std::iter::repeat_n() instead of repeat().take().",
        "All tests pass (5 toast tests + existing tests) and make ci completes successfully."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-20T04:00:00Z",
      "completed_at": "2026-01-20T04:00:00Z",
      "depends_on": [
        "RQ-0003"
      ]
    },
    {
      "id": "RQ-0005",
      "status": "done",
      "title": "Add 429 retry with exponential backoff to client requests",
      "priority": "high",
      "tags": [
        "client",
        "reliability",
        "retry"
      ],
      "scope": [
        "crates/client/src/client.rs",
        "crates/client/src/endpoints/",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/client.rs defines max_retries on SplunkClient but no retry logic is used by endpoint calls.",
        "crates/client/src/endpoints/* perform a single reqwest call and return ApiError on non-success without retries."
      ],
      "plan": [
        "Introduce a shared request helper (client or endpoints) that wraps reqwest calls and retries 429 responses with 1s/2s/4s backoff up to max_retries.",
        "Route endpoint functions through the helper so all API calls consistently retry on 429.",
        "Add wiremock tests that return 429 twice then 200 to assert backoff + retry behavior."
      ],
      "notes": [
        "Created crates/client/src/endpoints/request.rs with send_request_with_retry() function that wraps reqwest calls with retry logic.",
        "Implemented exponential backoff: 2^attempt seconds (1s, 2s, 4s) for retries on HTTP 429 responses.",
        "Added tracing::debug logging for retry attempts with attempt number, max_retries, and backoff duration.",
        "Returns MaxRetriesExceeded error when retries are exhausted, propagates other reqwest errors immediately.",
        "Uses RequestBuilder::try_clone() for retries, falls back to single attempt if cloning fails.",
        "Exported send_request_with_retry from endpoints/mod.rs.",
        "Updated all endpoint functions to accept max_retries parameter: login(), get_job(), list_jobs(), cancel_job(), delete_job(), create_job(), get_job_status(), wait_for_job(), get_results(), get_cluster_info(), get_cluster_peers(), list_indexes().",
        "Updated SplunkClient to pass self.max_retries to all endpoint calls.",
        "Added #[allow(clippy::too_many_arguments)] to get_results() function.",
        "Added two integration tests: test_retry_on_429_success (mock returns 429 twice then 200), test_retry_on_429_exhaustion (mock always returns 429).",
        "Updated all existing integration tests to pass max_retries=3 parameter.",
        "All 17 integration tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "completed_at": "2026-01-20T05:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0006",
      "status": "done",
      "title": "Retry on 401/403 by clearing session and re-authenticating",
      "priority": "high",
      "tags": [
        "client",
        "auth",
        "session"
      ],
      "scope": [
        "crates/client/src/client.rs",
        "crates/client/src/auth.rs",
        "crates/client/src/endpoints/"
      ],
      "evidence": [
        "crates/client/src/client.rs get_auth_token only checks session expiry; endpoints return ApiError on 401/403 without re-login.",
        "crates/client/src/auth.rs has clear_session() but it is not used by request paths."
      ],
      "plan": [
        "Add a request wrapper that detects 401/403 for session auth, clears the session, logs in, and retries once.",
        "Ensure API token auth does not attempt re-login and surfaces the error.",
        "Add integration tests that return 401 then success and assert the retry path."
      ],
      "notes": [
        "Added tracing::info logging for session refresh events on 401/403.",
        "Implemented 401/403 retry logic in all API methods: create_search_job, get_search_results, get_job_status, list_jobs, cancel_job, delete_job, list_indexes, get_cluster_info, get_cluster_peers, and wait_for_job (in search method).",
        "For session auth (AuthStrategy::SessionToken): On 401/403, clear session via session_manager.clear_session(), re-login via login(), and retry the operation once.",
        "For API token auth (AuthStrategy::ApiToken): 401/403 errors propagate immediately without retry since API tokens have no renewal mechanism.",
        "Fixed bug in search method: wait_for_job had an extra parameter (200) that didn't match the function signature - removed it.",
        "Added 4 integration tests: test_retry_on_401_session_auth, test_retry_on_403_session_auth, test_no_retry_on_401_api_token, test_retry_fails_on_second_401.",
        "Used Arc<AtomicUsize> for tracking login count in wiremock tests (required because wiremock closures need Fn, not FnMut).",
        "All 21 integration tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:54:39.423691+00:00",
      "completed_at": "2026-01-20T04:54:39.423506+00:00",
      "depends_on": []
    },
    {
      "id": "RQ-0007",
      "status": "done",
      "title": "Fix OutputMode::Json parsing for search results and add object-response coverage",
      "priority": "high",
      "tags": [
        "client",
        "search",
        "parsing"
      ],
      "scope": [
        "crates/client/src/endpoints/search.rs",
        "crates/client/fixtures/search/",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/endpoints/search.rs uses json.as_array() for OutputMode::Json and json[\"results\"] only for non-json modes.",
        "crates/client/fixtures/search/get_results.json is an array fixture, so object responses are not covered."
      ],
      "plan": [
        "Update get_results parsing to accept either an array or an object with a results field for OutputMode::Json.",
        "Add a second fixture representing the object response and cover it in integration tests.",
        "Keep preview/total fields consistent with the object response when present."
      ],
      "notes": [
        "Updated get_results() in crates/client/src/endpoints/search.rs to handle both array format ([{...}]) and object-wrapped format ({results: [...]}) for OutputMode::Json responses.",
        "Changed from if/else to match expression for clearer branching logic.",
        "Added graceful fallback to empty vec when neither format matches.",
        "Created new fixture crates/client/fixtures/search/get_results_object.json representing object-wrapped response with preview, init_offset, messages, results array, and total fields.",
        "Added integration test test_get_search_results_object_style() verifying object-style parsing works correctly with results array, preview=false, and total=1.",
        "Fixed clippy warning: changed assert_eq!(results.preview, false) to assert!(!results.preview).",
        "All 22 integration tests pass (including new object-style test) and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:58:39Z",
      "completed_at": "2026-01-20T04:58:39Z",
      "depends_on": []
    },
    {
      "id": "RQ-0008",
      "status": "done",
      "title": "Fix jobs filter apply/clear flow so filters persist after Enter",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "filter"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs handle_jobs_input sets search_filter then returns Action::ClearSearch on Enter, but update() clears search_filter on ClearSearch.",
        "Action::ClearSearch is used for both clearing and applying filters, so applying a filter immediately clears it."
      ],
      "plan": [
        "Introduce a dedicated ApplyFilter action or change ClearSearch semantics to avoid clearing on Enter when a filter is set.",
        "Update update() to apply the new action and keep search_filter set.",
        "Add tests to assert filters persist after Enter and are cleared only on Esc/explicit clear."
      ],
      "notes": [
        "Fixed crates/tui/src/app.rs handle_jobs_input() Enter key handling: returns None instead of Action::ClearSearch when applying a non-empty filter, so search_filter persists.",
        "Empty input on Enter still returns Action::ClearSearch to clear the existing filter.",
        "Added 3 regression tests in crates/tui/tests/app_tests.rs: test_jobs_filter_persistence (verifies filter persists after Enter), test_jobs_filter_clear_with_empty_input (verifies empty input clears filter), test_jobs_filter_cancel_with_escape (verifies Esc returns ClearSearch).",
        "All tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "completed_at": "2026-01-20T05:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0009",
      "status": "done",
      "title": "Align jobs selection and inspect behavior with filtered list",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "selection"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/screens/jobs.rs renders filtered_jobs while selection state remains tied to the unfiltered jobs list.",
        "crates/tui/src/app.rs InspectJob uses jobs_state.selected() index against the unfiltered jobs list, which can mismatch the filtered view."
      ],
      "plan": [
        "Track filtered indices or compute a selection mapping so the highlighted row and inspect target are consistent.",
        "Ensure selection is cleared when the filtered list is empty to avoid pointing at invalid rows.",
        "Add tests for inspect behavior while a filter is active and for empty filtered results."
      ],
      "notes": [
        "Added filtered_job_indices: Vec<usize> field to App struct that maps filtered view index â†’ original jobs list index.",
        "Implemented rebuild_filtered_indices() helper that filters and sorts jobs according to current search_filter and sort settings.",
        "Updated JobsLoaded, ClearSearch, CycleSortColumn, and ToggleSortDirection actions to call rebuild_filtered_indices().",
        "Updated filter input handling (Enter key) to call rebuild_filtered_indices() after setting search_filter.",
        "Added get_selected_job() helper that correctly maps filtered index to original job via filtered_job_indices.",
        "Updated InspectJob, cancel popup, and delete popup handlers to use get_selected_job() for correct job selection.",
        "Updated render_job_details() to use get_selected_job() instead of direct jobs list access.",
        "Updated all navigation helpers (next_item, previous_item, next_page, previous_page, go_to_top, go_to_bottom) to use filtered_jobs_len() for boundary checks.",
        "Fixed InspectJob handler to check jobs list is non-empty before transitioning to JobInspect screen.",
        "Updated jobs.rs JobsRenderConfig to accept &[&SearchJobStatus] instead of &[SearchJobStatus] to receive pre-filtered/sorted data from App.",
        "Removed duplicate filtering/sorting logic from jobs.rs render_jobs() since App now provides pre-filtered data.",
        "Added 6 comprehensive tests: test_filtered_job_selection_inspect, test_filtered_job_selection_cancel, test_filtered_job_selection_delete, test_filtered_navigation_respects_bounds, test_clear_filter_rebuilds_indices, test_sort_changes_rebuild_indices.",
        "Fixed existing tests to use JobsLoaded action instead of directly setting jobs (required for filtered_job_indices initialization).",
        "All 37 app tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:06:50Z",
      "completed_at": "2026-01-20T05:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0021",
      "status": "done",
      "title": "Clear loading state on cancel/delete failures in TUI",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "state"
      ],
      "scope": [
        "crates/tui/src/main.rs",
        "crates/tui/src/app.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/main.rs sends Action::Loading(true) for CancelJob/DeleteJob but on error only sends Action::Notify.",
        "crates/tui/src/app.rs does not clear loading on Action::Notify, so loading can remain true after failures."
      ],
      "plan": [
        "Send Action::Loading(false) or a failure action when cancel/delete fails.",
        "Update App::update to clear loading for the failure path.",
        "Add tests covering cancel/delete error flows to ensure loading resets."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:37:13.828305000Z",
      "completed_at": "2026-01-20T05:37:13.828305000Z",
      "depends_on": []
    },
    {
      "id": "RQ-0012",
      "status": "done",
      "title": "Fix Makefile test targets to run real workspace integration tests",
      "priority": "high",
      "tags": [
        "workflow",
        "makefile",
        "tests"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "Makefile test-integration runs `cargo test --test integration_tests`, but this workspace has no root integration_tests target.",
        "Makefile test-live runs `cargo test --test live_tests`, which will not resolve in a virtual workspace root."
      ],
      "plan": [
        "Update test-integration to run the integration tests for the correct crate(s) via `cargo test -p ... --test ...`.",
        "Update test-live to reference the crate and test target where live tests live.",
        "Verify `make test` runs unit + integration without missing targets."
      ],
      "notes": [
        "Updated Makefile test-integration target from `cargo test --test integration_tests` to `cargo test -p splunk-client --test integration_tests`.",
        "This matches the pattern already used by test-live (which was fixed in RQ-0013).",
        "All 22 integration tests pass: make test-integration",
        "make test (unit + integration) passes successfully.",
        "make ci completes successfully with no regressions."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T07:00:00Z",
      "completed_at": "2026-01-20T07:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0015",
      "status": "done",
      "title": "Implement indexes --detailed flag or remove it",
      "priority": "medium",
      "tags": [
        "cli",
        "indexes",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/indexes.rs",
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/indexes.rs takes a _detailed flag but does not use it.",
        "CLI exposes --detailed in help, but behavior is identical to non-detailed output."
      ],
      "plan": [
        "Decide on detailed output fields (paths, retention, size limits) and implement them in the formatters.",
        "Wire the detailed flag through to the formatter output.",
        "Update CLI tests/help to reflect the detailed behavior."
      ],
      "notes": [
        "Updated Formatter trait format_indexes signature to accept detailed: bool parameter.",
        "Updated JsonFormatter::format_indexes to ignore detailed flag (always outputs full Index struct).",
        "Updated TableFormatter::format_indexes to conditionally include Retention (s), Home Path, Cold Path, Thawed Path columns when detailed=true.",
        "Updated CsvFormatter::format_indexes to conditionally include RetentionSecs, HomePath, ColdPath, ThawedPath columns when detailed=true.",
        "Updated XmlFormatter::format_indexes to conditionally include retentionSecs, homePath, coldPath, thawedPath elements when detailed=true.",
        "Updated indexes.rs to rename _detailed to detailed and pass it through to formatter.format_indexes().",
        "Added 7 new tests: test_table_formatter_indexes_basic, test_table_formatter_indexes_detailed, test_csv_formatter_indexes_basic, test_csv_formatter_indexes_detailed, test_xml_formatter_indexes_basic, test_xml_formatter_indexes_detailed, test_json_formatter_indexes_always_detailed.",
        "All 19 CLI formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2025-01-19T20:30:00Z",
      "completed_at": "2025-01-19T20:30:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0016",
      "status": "done",
      "title": "Make cluster --detailed output format-consistent",
      "priority": "medium",
      "tags": [
        "cli",
        "cluster",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/cluster.rs",
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/cluster.rs prints peers in plain text even when output_format is json/csv/xml.",
        "This mixes human-readable output with structured output formats, breaking parsers."
      ],
      "plan": [
        "Define a structured peers output type and extend formatters to render it in the selected output format.",
        "Gate the peers output on the same formatter rather than println! text.",
        "Add tests for the detailed mode in at least one structured format."
      ],
      "notes": [
        "Added ClusterPeerOutput struct with fields: host, port, id, status, peer_state, label, site, is_captain.",
        "Implemented From<ClusterPeer> for ClusterPeerOutput for easy conversion.",
        "Updated ClusterInfoOutput to include optional peers: Option<Vec<ClusterPeerOutput>> field with skip_serializing_if attribute.",
        "Updated Formatter trait format_cluster_info signature to accept detailed: bool parameter.",
        "Updated JsonFormatter::format_cluster_info to serialize peers array if present (JSON always includes full data).",
        "Updated TableFormatter::format_cluster_info to print peers in tabular format when detailed=true (similar to previous output but through formatter).",
        "Updated CsvFormatter::format_cluster_info to output peers as separate rows with proper escaping when detailed=true.",
        "Updated XmlFormatter::format_cluster_info to wrap peers in <peers><peer>...</peers> structure when detailed=true.",
        "Removed println! loop from cluster.rs that bypassed formatters; peers now fetched and converted to ClusterPeerOutput, passed to formatter.",
        "Added 5 new tests: test_cluster_peers_json_formatting, test_cluster_peers_csv_formatting, test_cluster_peers_xml_formatting, test_cluster_peers_table_formatting, test_cluster_peers_not_shown_when_not_detailed.",
        "All 24 CLI formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-19T23:35:00Z",
      "completed_at": "2026-01-20T09:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0019",
      "status": "done",
      "title": "Centralize layout constants for toast rendering",
      "priority": "low",
      "tags": [
        "tui",
        "ui",
        "consistency"
      ],
      "scope": [
        "crates/tui/src/ui/toast.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/toast.rs defines local HEADER_HEIGHT/FOOTER_HEIGHT constants that duplicate app.rs values.",
        "app.rs exports HEADER_HEIGHT/FOOTER_HEIGHT via lib.rs, but toast.rs does not use them."
      ],
      "plan": [
        "Use the shared layout constants from app.rs (via crate root) in toast rendering.",
        "Remove the duplicated constants from toast.rs to avoid drift.",
        "Run existing toast tests to confirm behavior is unchanged."
      ],
      "notes": [
        "Added import: use crate::app::{FOOTER_HEIGHT, HEADER_HEIGHT}; to toast.rs",
        "Removed duplicate local constants (HEADER_HEIGHT, FOOTER_HEIGHT) from toast.rs:229-231",
        "Toast rendering now uses shared constants from app.rs, eliminating duplication and potential drift",
        "All 7 toast tests pass and make ci completes successfully"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T16:00:00Z",
      "completed_at": "2026-01-20T16:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0020",
      "status": "done",
      "title": "Fix lib.rs docs example to match App::new signature",
      "priority": "low",
      "tags": [
        "docs",
        "tui"
      ],
      "scope": [
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/lib.rs docs example calls App::new() but App::new takes an Option<PersistedState> parameter.",
        "Only Default is implemented, so the example as written does not compile."
      ],
      "plan": [
        "Update the example to use App::new(None) or App::default().",
        "Run doc tests (or add a compile test) to ensure the example compiles.",
        "Confirm documentation remains accurate after the change."
      ],
      "notes": [
        "Changed documentation example from App::new() to App::default() in crates/tui/src/lib.rs:12.",
        "App::default() internally calls App::new(None), making it the cleanest fix for the doctest.",
        "Verified doctests pass: cargo test -p splunk-tui --doc (2 passed).",
        "make ci completes successfully with all checks passing."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T07:13:34Z",
      "completed_at": "2026-01-20T20:00:00Z",
      "depends_on": []
    },
    {
      "id": "RQ-0024",
      "status": "done",
      "title": "Implement Splunk server info detection for environment identification",
      "priority": "critical",
      "tags": [
        "client",
        "health",
        "infrastructure"
      ],
      "scope": [
        "crates/client/src/endpoints/",
        "crates/client/src/models.rs",
        "crates/client/src/client.rs"
      ],
      "evidence": [
        "Cluster management endpoints in crates/client/src/endpoints/cluster.rs assume a cluster manager is present.",
        "Splunk health checks require knowing the environment type (standalone, cluster manager, search head, etc.).",
        "/services/server/info provides essential environment metadata."
      ],
      "plan": [
        "Add get_server_info endpoint implementation to fetch /services/server/info.",
        "Define ServerInfo and related models in client/src/models.rs.",
        "Update SplunkClient to use server info for tailoring subsequent health checks and cluster operations."
      ],
      "notes": [
        "Implemented get_server_info endpoint in crates/client/src/endpoints/server.rs.",
        "Added ServerInfo struct to crates/client/src/models.rs.",
        "Exposed get_server_info method on SplunkClient in crates/client/src/client.rs.",
        "Added integration test test_get_server_info with wiremock.",
        "Verified all tests and linting pass."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T12:00:00Z",
            "completed_at": "2026-01-20T12:00:00Z",
            "depends_on": [],
            "custom_fields": {}
          },
          {
            "id": "RQ-0025",
            "status": "done",
            "title": "Implement system-wide health check API client",
            "priority": "high",
            "tags": [
              "client",
              "health"
            ],
            "scope": [
              "crates/client/src/endpoints/",
              "crates/client/src/models.rs"
            ],
            "evidence": [
              "Requested feature: Automated Splunk Health checks.",
              "Splunk provides /services/server/health/splunkd for overall system health monitoring."
            ],
            "plan": [
              "Implement get_health endpoint to fetch health status from /services/server/health/splunkd.",
              "Add structured models for health components and their statuses.",
              "Add integration tests with mock health responses."
            ],
            "notes": [
              "Implemented get_health endpoint in crates/client/src/endpoints/server.rs targeting /services/server/health/splunkd.",
              "Added SplunkHealth and HealthFeature models to crates/client/src/models.rs using HashMap for dynamic features.",
              "Exposed get_health method on SplunkClient in crates/client/src/client.rs with session retry logic.",
              "Added comprehensive integration test test_get_health with wiremock and JSON fixture.",
              "Created crates/client/fixtures/server/get_health.json for testing.",
              "make ci passed successfully (lint, type-check, tests, build)."
            ],
            "request": "scan finding",
            "created_at": "2026-01-20T17:15:00Z",
            "updated_at": "2026-01-20T17:45:00Z",
            "completed_at": "2026-01-20T17:45:00Z",
            "depends_on": []
          }
        ]
      }
      