{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0037",
      "status": "done",
      "title": "Implement background health monitoring with status indicator",
      "priority": "medium",
      "tags": [
        "tui",
        "health",
        "ux"
      ],
      "scope": [
        "crates/tui/src/action.rs",
        "crates/tui/src/main.rs",
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "Health issues in Splunk may arise while the user is on other screens.",
        "Proactive notification of health changes improves operational awareness."
      ],
      "plan": [
        "Add a periodic background task in main.rs to fetch health status using the client.",
        "Introduce a health status indicator (e.g., colored symbol) in the TUI header.",
        "Show a toast notification if health status transitions from healthy to unhealthy."
      ],
      "notes": [
        "Added SplunkHealth to imports in action.rs",
        "Added Action::HealthStatusLoaded(Result<SplunkHealth, String>) variant to action.rs for background health check results",
        "Added HealthState enum to app.rs with Unknown, Healthy, Unhealthy variants",
        "Implemented HealthState::from_health_str(&str) to map Splunk health strings (green/red/yellow) to states",
        "Added health_state: HealthState field to App struct",
        "Updated App::new() to initialize health_state to HealthState::Unknown",
        "Added set_health_state(&mut self, new_state: HealthState) method that updates state and emits toast on Healthy -> Unhealthy transition",
        "Updated App::update() to handle Action::HealthLoaded (extracts health from HealthCheckOutput.splunkd_health) and Action::HealthStatusLoaded (maps result to HealthState, errors set to Unhealthy)",
        "Updated header rendering to show health indicator: [+] green for healthy, [!] red for unhealthy, [?] yellow for unknown",
        "Spawned background health check task in main.rs that runs every 60 seconds via tokio::time::interval",
        "Added comprehensive unit tests: test_health_state_from_health_str, test_set_health_state_healthy_to_unhealthy_emits_toast, test_set_health_state_unknown_to_unhealthy_emits_no_toast, test_set_health_state_healthy_to_unknown_emits_no_toast, test_set_health_state_unhealthy_to_healthy_emits_no_toast, test_health_status_loaded_action_ok, test_health_status_loaded_action_err, test_health_loaded_action_with_splunkd_health",
        "All 21 TUI tests pass and make ci completes successfully"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T22:43:39.282629000Z",
      "completed_at": "2026-01-20T23:01:59Z",
      "depends_on": [
        "RQ-0025"
      ],
      "custom_fields": {}
    },
    {
      "id": "RQ-0022",
      "status": "done",
      "title": "Add --help/usage with examples to live test script",
      "priority": "low",
      "tags": [
        "scripts",
        "docs",
        "workflow"
      ],
      "scope": [
        "scripts/test-live-server.sh"
      ],
      "evidence": [
        "scripts/test-live-server.sh is executable but does not handle --help or document usage/examples.",
        "AGENTS.md requires executable scripts to provide a useful --help menu with examples."
      ],
      "plan": [
        "Add argument parsing for --help and print usage with example commands.",
        "Document required environment variables or prerequisites in the help output.",
        "Add a small test or lint check (if available) to ensure help output stays in sync."
      ],
      "notes": [
        "Added show_help() function with comprehensive usage documentation (USAGE, DESCRIPTION, REQUIREMENTS, AUTHENTICATION, EXAMPLES, TESTS RUN sections).",
        "Added argument parsing loop supporting --help and -h flags with immediate exit.",
        "Added error handling for unknown arguments with helpful message pointing to --help.",
        "Added BLUE color constant for consistent output formatting.",
        "Verified help output works correctly: ./scripts/test-live-server.sh --help, ./scripts/test-live-server.sh -h, and ./scripts/test-live-server.sh --invalid all behave as expected.",
        "No automated test added as bash scripts lack automated help validation in this repo; manual review is sufficient for this simple change.",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T17:00:00Z",
      "completed_at": "2026-01-20T17:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0018",
      "status": "done",
      "title": "Enable search results scrolling in the TUI search screen",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/popup.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs maintains search_scroll_offset but navigation helpers only update Jobs/Indexes selection, not search results.",
        "Search screen accepts PageUp/PageDown actions but search_scroll_offset is never updated.",
        "go_to_bottom() does NOT handle CurrentScreen::Search (only Jobs/Indexes)."
      ],
      "plan": [
        "Add scroll handling for search results (PageUp/PageDown/Home/End) that updates search_scroll_offset with bounds checks.",
        "Update help text or footer hints to indicate scrolling controls on the Search screen.",
        "Add tests to cover search scrolling and rendering with offsets."
      ],
      "notes": [
        "Fixed go_to_bottom() in app.rs to handle CurrentScreen::Search - now scrolls to last valid result offset.",
        "Added bounds checking to next_page() for Search screen - clamps offset to prevent scrolling past results.",
        "previous_page() already uses saturating_sub which prevents going below 0.",
        "Updated help popup in popup.rs to document PgDn/PgUp/Home/End controls for Search screen.",
        "Added 10 comprehensive unit tests in app_tests.rs: test_search_page_down_scrolls_by_10, test_search_page_up_scrolls_back, test_search_page_down_clamps_at_end, test_search_page_up_clamps_at_zero, test_search_page_up_from_zero_stays_at_zero, test_search_go_to_top, test_search_go_to_bottom, test_search_go_to_bottom_with_empty_results, test_search_scroll_with_single_result, test_search_go_to_top_from_bottom.",
        "Added snapshot test in snapshot_tests.rs: snapshot_search_screen_scrolled (verifies scrolled rendering shows different results).",
        "All 47 TUI tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T11:30:00Z",
      "completed_at": "2026-01-20T11:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0017",
      "status": "done",
      "title": "Define default behavior for `splunk jobs` when no flags are set",
      "priority": "medium",
      "tags": [
        "cli",
        "jobs",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/jobs.rs",
        "crates/cli/tests/jobs_tests.rs",
        "crates/cli/Cargo.toml"
      ],
      "evidence": [
        "crates/cli/src/commands/jobs.rs only runs list when --list is set; otherwise no output or error is produced.",
        "Users invoking `splunk jobs` without flags get a silent no-op."
      ],
      "plan": [
        "Decide on default behavior (list jobs) or enforce mutually exclusive flags with clap.",
        "Implement the default or clap validation and update help text.",
        "Add tests for the default/no-flag behavior."
      ],
      "notes": [
        "Set default_value=\"true\" for --list flag in crates/cli/src/main.rs to make listing the default action.",
        "Updated help text to indicate --list is the default action: 'List all search jobs (default action)'.",
        "Modified crates/cli/src/commands/jobs.rs to set list=false when --cancel or --delete is used, ensuring those actions don't also list jobs.",
        "Added predicates dependency to crates/cli/Cargo.toml for test assertions.",
        "Created crates/cli/tests/jobs_tests.rs with 5 integration tests: test_jobs_default_lists, test_jobs_explicit_list_flag, test_jobs_cancel_flag, test_jobs_delete_flag, test_jobs_help_shows_list_flag.",
        "Tests verify default behavior (no args = list jobs), explicit --list flag, --cancel/--delete flags bypass listing, and help text shows --list flag.",
        "All 5 jobs CLI tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T10:00:00Z",
      "completed_at": "2026-01-20T10:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0014",
      "status": "done",
      "title": "Improve CLI formatters to render non-string values and CSV escaping",
      "priority": "medium",
      "tags": [
        "cli",
        "formatting",
        "ux"
      ],
      "scope": [
        "crates/cli/src/formatters.rs",
        "crates/cli/src/commands/"
      ],
      "evidence": [
        "crates/cli/src/formatters.rs uses value.as_str().unwrap_or(\"\") for table/csv/xml formatting, dropping numbers/booleans/objects.",
        "CSV output is emitted without escaping commas or quotes, which can corrupt rows."
      ],
      "plan": [
        "Convert serde_json::Value to strings using a consistent formatter (stringify scalars, JSON for objects/arrays).",
        "Implement CSV escaping (quotes/double-quotes/newlines) for both headers and values.",
        "Expand formatter tests to cover numeric/boolean values and escaping."
      ],
      "notes": [
        "Added format_json_value() helper function to convert any JSON value to string representation (strings as-is, numbers/booleans to string, null to empty, arrays/objects to compact JSON).",
        "Added escape_csv() helper function implementing RFC 4180 CSV escaping (quotes around fields with comma/quote/newline, double internal quotes).",
        "Updated TableFormatter to use format_json_value() instead of value.as_str().unwrap_or(\"\").",
        "Updated CsvFormatter to apply escape_csv() to all headers and values in format_search_results, format_indexes, format_jobs, and format_cluster_info.",
        "Updated XmlFormatter to use format_json_value() before escape_xml() in format_search_results.",
        "Added comprehensive test coverage: test_csv_escaping (quotes, commas, newlines), test_format_json_value (all value types), test_table_formatter_with_non_string_values, test_csv_formatter_with_non_string_values, test_xml_formatter_with_non_string_values, test_value_rendering (cross-formatter verification).",
        "All 12 formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-19T23:10:15Z",
      "completed_at": "2026-01-20T08:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0023",
      "status": "done",
      "title": "Align Makefile with required targets (generate + build install)",
      "priority": "medium",
      "tags": [
        "workflow",
        "makefile",
        "contract"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "AGENTS.md requires Makefile targets including generate, but Makefile has no generate target.",
        "AGENTS.md requires build to also install to ~/.local/bin when applicable, but Makefile build only runs cargo build --release.",
        "AGENTS.md requires install to only fetch dependencies, not install binaries."
      ],
      "plan": [
        "Add a generate target (no-op with a clear message if no codegen is needed yet).",
        "Update build to install release binaries to ~/.local/bin or document why it cannot.",
        "Update install to use cargo fetch instead of cargo install.",
        "Ensure make ci includes generate when applicable and keep help output in sync."
      ],
      "notes": [
        "Added generate target as no-op with message 'No code generation required for this project.'",
        "Updated install target from cargo install to cargo fetch (fetch dependencies only).",
        "Updated build target to install release binaries (splunk, splunk-tui) to ~/.local/bin after building.",
        "Updated ci target to include install at start and generate after format: install format generate lint type-check test build",
        "Updated help target to reflect new target descriptions and behaviors.",
        "Added generate to .PHONY declaration.",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T08:00:00Z",
      "completed_at": "2026-01-20T08:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0013",
      "status": "done",
      "title": "Move live tests into a workspace crate or add a runnable test harness",
      "priority": "high",
      "tags": [
        "tests",
        "workflow",
        "live"
      ],
      "scope": [
        "tests/live_tests.rs",
        "crates/client/tests/",
        "Makefile"
      ],
      "evidence": [
        "tests/live_tests.rs lives at workspace root, but Cargo.toml is a virtual workspace with no root package to host integration tests.",
        "Makefile test-live targets a root test that is not discoverable in the workspace layout."
      ],
      "plan": [
        "Relocate live_tests.rs into a specific crate (likely crates/client/tests) or add a minimal root package to host it.",
        "Adjust dotenv path usage to reflect the new test location.",
        "Update Makefile test-live to point at the new test target."
      ],
      "notes": [
        "Moved live_tests.rs from workspace root tests/ to crates/client/tests/ where integration tests belong.",
        "Updated .env.test path resolution to use CARGO_MANIFEST_DIR and navigate two levels up to workspace root.",
        "Added dotenvy dev-dependency to crates/client/Cargo.toml (workspace = true).",
        "Fixed all API calls to match current SplunkClient API (AuthStrategy::SessionToken, builder pattern, &mut self methods).",
        "Updated Makefile test-live target: `cargo test -p splunk-client --test live_tests -- --ignored`.",
        "Deleted legacy tests/ directory at workspace root.",
        "All 6 live tests now pass: make test-live (requires live Splunk server).",
        "All CI checks pass: make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T06:45:00Z",
      "completed_at": "2026-01-20T06:45:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0011",
      "status": "done",
      "title": "Fix client integration test fixture path to be manifest-relative",
      "priority": "high",
      "tags": [
        "tests",
        "client",
        "fixtures"
      ],
      "scope": [
        "crates/client/tests/integration_tests.rs",
        "crates/client/fixtures/"
      ],
      "evidence": [
        "crates/client/tests/integration_tests.rs loads fixtures from Path::new(\"fixtures\"), but fixtures live under crates/client/fixtures.",
        "There is no top-level fixtures directory at repo root, so tests will fail when run from workspace root."
      ],
      "plan": [
        "Use CARGO_MANIFEST_DIR to build an absolute path to crates/client/fixtures.",
        "Update load_fixture to reference the correct fixture base path.",
        "Run integration tests to ensure fixtures resolve from workspace root."
      ],
      "notes": [
        "Updated load_fixture() to use env!(\"CARGO_MANIFEST_DIR\") for manifest-relative fixture path resolution.",
        "Changed from std::path::Path::new(\"fixtures\") to manifest_dir.join(\"fixtures\") for absolute path construction.",
        "Tests now resolve fixtures correctly from any working directory (workspace root, crate directory, etc.).",
        "All 22 integration tests pass: cargo test -p splunk-client --test integration_tests",
        "make ci completes successfully with no regressions."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T06:30:00Z",
      "completed_at": "2026-01-20T06:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0010",
      "status": "done",
      "title": "Remove Box::leak in jobs status rendering to avoid memory leaks",
      "priority": "high",
      "tags": [
        "tui",
        "ui",
        "memory"
      ],
      "scope": [
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/screens/jobs.rs uses Box::leak to extend the lifetime of status text for table rows.",
        "Box::leak leaks memory per render and can grow unbounded during UI usage."
      ],
      "plan": [
        "Refactor status text construction to use owned Strings without leaking (e.g., build String and pass to Cell::from).",
        "Ensure highlight logic still works with owned status strings.",
        "Add a unit or snapshot test to validate the running status text formatting."
      ],
      "notes": [
        "Replaced Box::leak pattern with owned String values for status text (Done, Running, Running (X%)).",
        "Updated highlight_match() function to accept owned String and return Cell<'static> instead of borrowing input.",
        "Fixed all snapshot tests that were broken due to missing filtered_job_indices population (tests don't trigger event handlers).",
        "Added new snapshot test snapshot_jobs_screen_running_with_progress() specifically testing 'Running (73%)' format.",
        "All 22 snapshot tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:00:00Z",
      "completed_at": "2026-01-20T06:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0001",
      "status": "done",
      "title": "Refactor popup UI to Builder pattern and add structured logging",
      "priority": "high",
      "tags": [
        "ui",
        "refactor",
        "logging",
        "foundation"
      ],
      "scope": [
        "crates/tui/src/ui/popup.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs",
        "crates/tui/tests/snapshot_tests.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/src/lib.rs",
        "crates/tui/Cargo.toml",
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/src/action.rs",
        "crates/tui/tests/helpers.rs"
      ],
      "evidence": [
        "Plan FLIGHT 1: Foundation Refactor (Popup Builder & Observability)",
        "Objective: Execute architectural evolution to establish UI robustness"
      ],
      "plan": [
        "Modify crates/tui/src/ui/popup.rs: Implement PopupBuilder with fluent API (title, content, style, build). Replace static helper functions with flexible render method accepting Popup state.",
        "Modify crates/tui/src/app.rs: Define const values for UI layout (header height, footer height). Update Popup enum to use richer structure (Confirm {title, message, action}, Info {title, message}, Help) and integrate with Builder.",
        "Modify crates/tui/src/main.rs: Initialize tracing with subscriber that logs to file (tui interferes with stdout). Add info! logs on Action receipt for observability.",
        "Modify crates/tui/tests/snapshot_tests.rs: Update popup test fixtures to use new Builder syntax. Remove unused import: helpers::*."
      ],
      "notes": [
        "Added PopupType enum (Help, ConfirmCancel(String), ConfirmDelete(String)) and Popup struct with title, content, kind fields.",
        "Implemented PopupBuilder with fluent API (title(), content(), build()).",
        "Added layout constants: HEADER_HEIGHT = 3, FOOTER_HEIGHT = 3, POPUP_WIDTH_PERCENT = 60, POPUP_HEIGHT_PERCENT = 20.",
        "Refactored render_popup() to use Popup struct instead of enum, extracting kind field for pattern matching.",
        "Updated all popup creation sites to use Builder pattern: Popup::builder(PopupType::Help).build().",
        "Added file-based logging with tracing-appender: logs/splunk-tui.log with daily rotation.",
        "Added action logging in main loop: tracing::info!(?action, \"Handling action\").",
        "Updated lib.rs to re-export Popup, PopupType, HEADER_HEIGHT, FOOTER_HEIGHT.",
        "Updated all tests to use new Builder API and match on popup.kind field.",
        "Added Default implementations for SortState and App (clippy requirements).",
        "Refactored render_jobs() to use JobsRenderConfig struct to fix clippy too_many_arguments warning.",
        "Fixed all clippy warnings (dead_code, new_without_default, too_many_arguments)."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0002",
      "status": "done",
      "title": "Implement Job Inspection details view screen",
      "priority": "high",
      "tags": [
        "ui",
        "feature",
        "inspection",
        "state"
      ],
      "scope": [
        "crates/tui/src/ui/screens/job_details.rs",
        "crates/tui/src/ui/screens/mod.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/action.rs",
        "crates/tui/src/ui/popup.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "Plan FLIGHT 2: Job Inspection (Details View)",
        "Unlock data depth with detailed job inspection capability"
      ],
      "plan": [
        "Create crates/tui/src/ui/screens/job_details.rs: Implement render_details(f: &mut Frame, job: &SearchJobStatus, area: Rect). Use List or Table to show all fields of SearchJobStatus.",
        "Modify crates/tui/src/ui/screens/mod.rs: Export new job_details module.",
        "Modify crates/tui/src/action.rs: Add InspectJob and ExitScreen actions. Remove dead_code warnings for SearchInput and ToggleSortDirection by implementing usage or removing unused variants.",
        "Modify crates/tui/src/app.rs: Add JobDetails variant to CurrentScreen enum. Add selected_job: Option<SearchJobStatus> to App struct. In render(), route CurrentScreen::JobDetails to screens::job_details::render_details.",
        "Modify crates/tui/src/ui/screens/jobs.rs: In handle_input, map Enter key to Action::InspectJob."
      ],
      "notes": [
        "Created job_details.rs screen module with render_details() function displaying all SearchJobStatus fields (SID, status with color-coding, duration, event/scan/result counts, disk usage, priority, label, cursor time, finalized status).",
        "Added JobInspect variant to CurrentScreen enum in app.rs.",
        "Added InspectJob and ExitInspectMode actions to action.rs.",
        "Implemented handle_job_inspect_input() method in app.rs with Esc key to exit inspect mode.",
        "Mapped Enter key in handle_jobs_input() to trigger InspectJob action.",
        "Added render_job_details() helper method that dynamically retrieves selected job from jobs list using jobs_state.selected().",
        "Added JobInspect branch to render_content() match statement.",
        "Updated header rendering to show 'Job Details' when in JobInspect screen.",
        "Updated help popup to include 'Enter Inspect job' under Jobs Screen and 'Esc Back to jobs' under Job Details Screen.",
        "Added three state transition tests in app_tests.rs: test_job_inspection_flow, test_job_inspection_without_jobs, test_job_inspect_help_popup.",
        "Added four snapshot tests in snapshot_tests.rs: snapshot_job_details_screen_with_job, snapshot_job_details_screen_running_job, snapshot_job_details_screen_no_job, snapshot_job_details_screen_with_help_popup.",
        "All tests pass and make ci completes successfully."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0003",
      "status": "done",
      "title": "Implement configuration persistence with directories and JSON",
      "priority": "medium",
      "tags": [
        "config",
        "persistence",
        "cross-platform",
        "serialization",
        "json"
      ],
      "scope": [
        "crates/config/Cargo.toml",
        "crates/config/src/persistence.rs",
        "crates/config/src/lib.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs"
      ],
      "evidence": [
        "Plan FLIGHT 3: Configuration Persistence",
        "Establish permanence with cross-platform config storage",
        "User feedback: JSON is more robust and safe than TOML for config persistence"
      ],
      "plan": [
        "Modify crates/config/Cargo.toml: Add directories = \"6.0\" for cross-platform config paths. Add serde_json = { workspace = true } to dependencies (already in workspace, just reference it).",
        "Create crates/config/src/persistence.rs: Implement PersistedState struct with Serialize/Deserialize derives (auto_refresh: bool, sort_column: String, sort_direction: String, last_search_query: Option<String>). Implement ConfigManager with load_or_default() using serde_json::from_str and save() using serde_json::to_string_pretty.",
        "Modify crates/config/src/lib.rs: Export persistence types (PersistedState, ConfigManager).",
        "Modify crates/tui/src/app.rs: Add UserConfig struct to state. Initialize App state (auto_refresh, sort) from loaded config.",
        "Modify crates/tui/src/main.rs: Load config on startup via ConfigManager. Call ConfigManager::save on Action::Quit to persist state."
      ],
      "notes": [
        "Added directories = \"6.0\" and serde_json = { workspace = true } dependencies to crates/config/Cargo.toml.",
        "Added tracing = { workspace = true } for logging in config crate.",
        "Created crates/config/src/persistence.rs with PersistedState struct (auto_refresh: bool, sort_column: String, sort_direction: String, last_search_query: Option<String>) and Default impl.",
        "Implemented ConfigManager with new() -> Result<Self> using ProjectDirs::from(\"com\", \"splunk-tui\", \"splunk-tui\").",
        "Implemented load() -> PersistedState that returns default on missing/error with warning log.",
        "Implemented save(&self, state: &PersistedState) -> Result<()> that creates parent dirs and writes to config.json.",
        "Exported ConfigManager and PersistedState from crates/config/src/lib.rs.",
        "Added as_str() methods to SortColumn and SortDirection enums for serialization.",
        "Added parse_sort_column() and parse_sort_direction() helper functions for deserialization with fallback defaults.",
        "Modified App::new() to accept Option<PersistedState> parameter and initialize state from persisted values.",
        "Added App::get_persisted_state() -> PersistedState method to export current state.",
        "Modified crates/tui/src/main.rs to initialize ConfigManager, load persisted state on startup, and save on quit.",
        "Updated Default impl for App to call App::new(None).",
        "Fixed all test files (app_tests.rs, snapshot_tests.rs) to call App::new(None).",
        "All tests pass and make ci completes successfully."
      ],
      "request": "Review the RQ-0003 task and dependent tasks in the queue. I think using JSON for config persistence is a more robust and safe choice. If you agree, update the task and any dependent tasks.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-20T03:27:48Z",
      "completed_at": "2026-01-20T03:30:00Z",
      "depends_on": [
        "RQ-0002"
      ],
      "custom_fields": {}
    },
    {
      "id": "RQ-0004",
      "status": "done",
      "title": "Implement async toast notifications with UUID tracking",
      "priority": "medium",
      "tags": [
        "ui",
        "async",
        "notifications",
        "feedback"
      ],
      "scope": [
        "crates/tui/Cargo.toml",
        "crates/tui/src/ui/toast.rs",
        "crates/tui/src/ui/mod.rs",
        "crates/tui/src/lib.rs",
        "crates/tui/src/action.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "Plan FLIGHT 4: Async Orchestration & Feedback",
        "Refine user feedback with async notification system"
      ],
      "plan": [
        "Modify crates/tui/Cargo.toml: Add uuid = { version = \"1.11\", features = [\"v4\"] } for unique async operation tracking.",
        "Create crates/tui/src/ui/toast.rs: Implement ToastLevel enum (Info, Success, Warning, Error). Implement Toast struct (id: Uuid, message: String, level: ToastLevel, created_at: Instant, ttl: Duration). Implement render_toasts() function for bottom-right overlay rendering.",
        "Modify crates/tui/src/ui/mod.rs: Export toast module and re-export Toast, ToastLevel.",
        "Modify crates/tui/src/lib.rs: Re-export Toast and ToastLevel at crate root.",
        "Modify crates/tui/src/action.rs: Add Notify(ToastLevel, String) and Tick action variants. Remove Error(String) variant.",
        "Modify crates/tui/src/app.rs: Replace error: Option<String> with toasts: Vec<Toast>. Add TTL pruning logic in Tick handler. Update render() to call render_toasts() and remove error footer display.",
        "Modify crates/tui/src/main.rs: Change tick interval from 1s to 250ms for smooth animations. Separate data refresh (5s) from UI tick (250ms). Update handle_side_effects to emit Action::Notify instead of Action::Error.",
        "Modify crates/tui/tests/app_tests.rs: Update error test to use toasts. Add test_notify_adds_toast and test_tick_prunes_expired_toasts tests.",
        "Modify crates/tui/tests/snapshot_tests.rs: Update snapshot_error_state to use Toast::error() instead of error field."
      ],
      "notes": [
        "Added uuid = { version = \"1.11\", features = [\"v4\"] } dependency to crates/tui/Cargo.toml.",
        "Created crates/tui/src/ui/toast.rs with ToastLevel enum (Info, Success, Warning, Error), Toast struct with UUID/ttl/created_at fields, and render_toasts() function.",
        "Toast TTL by level: Info/Success/Warning = 5 seconds, Error = 10 seconds.",
        "Implemented Toast constructors: info(), success(), warning(), error().",
        "Added #[allow(dead_code)] attributes for public API methods not yet used (remaining, info, success, warning, from_str, non-Error ToastLevel variants).",
        "Exported toast module from ui/mod.rs and re-exported Toast, ToastLevel from lib.rs.",
        "Added Notify(ToastLevel, String) and Tick actions to action.rs. Removed Error(String) variant.",
        "Replaced App.error field with App.toasts: Vec<Toast>.",
        "Added Tick handler to prune expired toasts using retain().",
        "Updated all error handling to push Toast::error() instead of setting error field.",
        "Changed main loop tick interval from 1s to 250ms for smooth UI animations and TTL pruning.",
        "Decoupled data refresh (5s interval) from UI tick (250ms interval) for responsive UI.",
        "Updated handle_side_effects to emit Action::Notify(ToastLevel::Error, ...) for cancel/delete job failures.",
        "Updated footer rendering to remove error display (now shown as toasts).",
        "Added render_toasts() call in App::render() after footer, before popup (toasts render below popups).",
        "Updated tests: test_error_state_clears_on_loading -> test_notify_adds_toast, added test_tick_prunes_expired_toasts.",
        "Updated snapshot_error_state to use Toast::error() with bottom-right overlay rendering.",
        "Fixed clippy warnings: added #[allow(clippy::should_implement_trait)] for from_str, used std::iter::repeat_n() instead of repeat().take().",
        "All tests pass (5 toast tests + existing tests) and make ci completes successfully."
      ],
      "request": "Read /tmp/plan.md and build out the task queue based on the plan provided.",
      "created_at": "2025-01-19T00:00:00Z",
      "updated_at": "2026-01-20T04:00:00Z",
      "completed_at": "2026-01-20T04:00:00Z",
      "depends_on": [
        "RQ-0003"
      ],
      "custom_fields": {}
    },
    {
      "id": "RQ-0005",
      "status": "done",
      "title": "Add 429 retry with exponential backoff to client requests",
      "priority": "high",
      "tags": [
        "client",
        "reliability",
        "retry"
      ],
      "scope": [
        "crates/client/src/client.rs",
        "crates/client/src/endpoints/",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/client.rs defines max_retries on SplunkClient but no retry logic is used by endpoint calls.",
        "crates/client/src/endpoints/* perform a single reqwest call and return ApiError on non-success without retries."
      ],
      "plan": [
        "Introduce a shared request helper (client or endpoints) that wraps reqwest calls and retries 429 responses with 1s/2s/4s backoff up to max_retries.",
        "Route endpoint functions through the helper so all API calls consistently retry on 429.",
        "Add wiremock tests that return 429 twice then 200 to assert backoff + retry behavior."
      ],
      "notes": [
        "Created crates/client/src/endpoints/request.rs with send_request_with_retry() function that wraps reqwest calls with retry logic.",
        "Implemented exponential backoff: 2^attempt seconds (1s, 2s, 4s) for retries on HTTP 429 responses.",
        "Added tracing::debug logging for retry attempts with attempt number, max_retries, and backoff duration.",
        "Returns MaxRetriesExceeded error when retries are exhausted, propagates other reqwest errors immediately.",
        "Uses RequestBuilder::try_clone() for retries, falls back to single attempt if cloning fails.",
        "Exported send_request_with_retry from endpoints/mod.rs.",
        "Updated all endpoint functions to accept max_retries parameter: login(), get_job(), list_jobs(), cancel_job(), delete_job(), create_job(), get_job_status(), wait_for_job(), get_results(), get_cluster_info(), get_cluster_peers(), list_indexes().",
        "Updated SplunkClient to pass self.max_retries to all endpoint calls.",
        "Added #[allow(clippy::too_many_arguments)] to get_results() function.",
        "Added two integration tests: test_retry_on_429_success (mock returns 429 twice then 200), test_retry_on_429_exhaustion (mock always returns 429).",
        "Updated all existing integration tests to pass max_retries=3 parameter.",
        "All 17 integration tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "completed_at": "2026-01-20T05:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0006",
      "status": "done",
      "title": "Retry on 401/403 by clearing session and re-authenticating",
      "priority": "high",
      "tags": [
        "client",
        "auth",
        "session"
      ],
      "scope": [
        "crates/client/src/client.rs",
        "crates/client/src/auth.rs",
        "crates/client/src/endpoints/"
      ],
      "evidence": [
        "crates/client/src/client.rs get_auth_token only checks session expiry; endpoints return ApiError on 401/403 without re-login.",
        "crates/client/src/auth.rs has clear_session() but it is not used by request paths."
      ],
      "plan": [
        "Add a request wrapper that detects 401/403 for session auth, clears the session, logs in, and retries once.",
        "Ensure API token auth does not attempt re-login and surfaces the error.",
        "Add integration tests that return 401 then success and assert the retry path."
      ],
      "notes": [
        "Added tracing::info logging for session refresh events on 401/403.",
        "Implemented 401/403 retry logic in all API methods: create_search_job, get_search_results, get_job_status, list_jobs, cancel_job, delete_job, list_indexes, get_cluster_info, get_cluster_peers, and wait_for_job (in search method).",
        "For session auth (AuthStrategy::SessionToken): On 401/403, clear session via session_manager.clear_session(), re-login via login(), and retry the operation once.",
        "For API token auth (AuthStrategy::ApiToken): 401/403 errors propagate immediately without retry since API tokens have no renewal mechanism.",
        "Fixed bug in search method: wait_for_job had an extra parameter (200) that didn't match the function signature - removed it.",
        "Added 4 integration tests: test_retry_on_401_session_auth, test_retry_on_403_session_auth, test_no_retry_on_401_api_token, test_retry_fails_on_second_401.",
        "Used Arc<AtomicUsize> for tracking login count in wiremock tests (required because wiremock closures need Fn, not FnMut).",
        "All 21 integration tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:54:39.423691+00:00",
      "completed_at": "2026-01-20T04:54:39.423506+00:00",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0007",
      "status": "done",
      "title": "Fix OutputMode::Json parsing for search results and add object-response coverage",
      "priority": "high",
      "tags": [
        "client",
        "search",
        "parsing"
      ],
      "scope": [
        "crates/client/src/endpoints/search.rs",
        "crates/client/fixtures/search/",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/endpoints/search.rs uses json.as_array() for OutputMode::Json and json[\"results\"] only for non-json modes.",
        "crates/client/fixtures/search/get_results.json is an array fixture, so object responses are not covered."
      ],
      "plan": [
        "Update get_results parsing to accept either an array or an object with a results field for OutputMode::Json.",
        "Add a second fixture representing the object response and cover it in integration tests.",
        "Keep preview/total fields consistent with the object response when present."
      ],
      "notes": [
        "Updated get_results() in crates/client/src/endpoints/search.rs to handle both array format ([{...}]) and object-wrapped format ({results: [...]}) for OutputMode::Json responses.",
        "Changed from if/else to match expression for clearer branching logic.",
        "Added graceful fallback to empty vec when neither format matches.",
        "Created new fixture crates/client/fixtures/search/get_results_object.json representing object-wrapped response with preview, init_offset, messages, results array, and total fields.",
        "Added integration test test_get_search_results_object_style() verifying object-style parsing works correctly with results array, preview=false, and total=1.",
        "Fixed clippy warning: changed assert_eq!(results.preview, false) to assert!(!results.preview).",
        "All 22 integration tests pass (including new object-style test) and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:58:39Z",
      "completed_at": "2026-01-20T04:58:39Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0008",
      "status": "done",
      "title": "Fix jobs filter apply/clear flow so filters persist after Enter",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "filter"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs handle_jobs_input sets search_filter then returns Action::ClearSearch on Enter, but update() clears search_filter on ClearSearch.",
        "Action::ClearSearch is used for both clearing and applying filters, so applying a filter immediately clears it."
      ],
      "plan": [
        "Introduce a dedicated ApplyFilter action or change ClearSearch semantics to avoid clearing on Enter when a filter is set.",
        "Update update() to apply the new action and keep search_filter set.",
        "Add tests to assert filters persist after Enter and are cleared only on Esc/explicit clear."
      ],
      "notes": [
        "Fixed crates/tui/src/app.rs handle_jobs_input() Enter key handling: returns None instead of Action::ClearSearch when applying a non-empty filter, so search_filter persists.",
        "Empty input on Enter still returns Action::ClearSearch to clear the existing filter.",
        "Added 3 regression tests in crates/tui/tests/app_tests.rs: test_jobs_filter_persistence (verifies filter persists after Enter), test_jobs_filter_clear_with_empty_input (verifies empty input clears filter), test_jobs_filter_cancel_with_escape (verifies Esc returns ClearSearch).",
        "All tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "completed_at": "2026-01-20T05:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0009",
      "status": "done",
      "title": "Align jobs selection and inspect behavior with filtered list",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "selection"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/screens/jobs.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/screens/jobs.rs renders filtered_jobs while selection state remains tied to the unfiltered jobs list.",
        "crates/tui/src/app.rs InspectJob uses jobs_state.selected() index against the unfiltered jobs list, which can mismatch the filtered view."
      ],
      "plan": [
        "Track filtered indices or compute a selection mapping so the highlighted row and inspect target are consistent.",
        "Ensure selection is cleared when the filtered list is empty to avoid pointing at invalid rows.",
        "Add tests for inspect behavior while a filter is active and for empty filtered results."
      ],
      "notes": [
        "Added filtered_job_indices: Vec<usize> field to App struct that maps filtered view index â†’ original jobs list index.",
        "Implemented rebuild_filtered_indices() helper that filters and sorts jobs according to current search_filter and sort settings.",
        "Updated JobsLoaded, ClearSearch, CycleSortColumn, and ToggleSortDirection actions to call rebuild_filtered_indices().",
        "Updated filter input handling (Enter key) to call rebuild_filtered_indices() after setting search_filter.",
        "Added get_selected_job() helper that correctly maps filtered index to original job via filtered_job_indices.",
        "Updated InspectJob, cancel popup, and delete popup handlers to use get_selected_job() for correct job selection.",
        "Updated render_job_details() to use get_selected_job() instead of direct jobs list access.",
        "Updated all navigation helpers (next_item, previous_item, next_page, previous_page, go_to_top, go_to_bottom) to use filtered_jobs_len() for boundary checks.",
        "Fixed InspectJob handler to check jobs list is non-empty before transitioning to JobInspect screen.",
        "Updated jobs.rs JobsRenderConfig to accept &[&SearchJobStatus] instead of &[SearchJobStatus] to receive pre-filtered/sorted data from App.",
        "Removed duplicate filtering/sorting logic from jobs.rs render_jobs() since App now provides pre-filtered data.",
        "Added 6 comprehensive tests: test_filtered_job_selection_inspect, test_filtered_job_selection_cancel, test_filtered_job_selection_delete, test_filtered_navigation_respects_bounds, test_clear_filter_rebuilds_indices, test_sort_changes_rebuild_indices.",
        "Fixed existing tests to use JobsLoaded action instead of directly setting jobs (required for filtered_job_indices initialization).",
        "All 37 app tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:06:50Z",
      "completed_at": "2026-01-20T05:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0021",
      "status": "done",
      "title": "Clear loading state on cancel/delete failures in TUI",
      "priority": "high",
      "tags": [
        "tui",
        "jobs",
        "state"
      ],
      "scope": [
        "crates/tui/src/main.rs",
        "crates/tui/src/app.rs",
        "crates/tui/tests/app_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/main.rs sends Action::Loading(true) for CancelJob/DeleteJob but on error only sends Action::Notify.",
        "crates/tui/src/app.rs does not clear loading on Action::Notify, so loading can remain true after failures."
      ],
      "plan": [
        "Send Action::Loading(false) or a failure action when cancel/delete fails.",
        "Update App::update to clear loading for the failure path.",
        "Add tests covering cancel/delete error flows to ensure loading resets."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T05:37:13.828305000Z",
      "completed_at": "2026-01-20T05:37:13.828305000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0012",
      "status": "done",
      "title": "Fix Makefile test targets to run real workspace integration tests",
      "priority": "high",
      "tags": [
        "workflow",
        "makefile",
        "tests"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "Makefile test-integration runs `cargo test --test integration_tests`, but this workspace has no root integration_tests target.",
        "Makefile test-live runs `cargo test --test live_tests`, which will not resolve in a virtual workspace root."
      ],
      "plan": [
        "Update test-integration to run the integration tests for the correct crate(s) via `cargo test -p ... --test ...`.",
        "Update test-live to reference the crate and test target where live tests live.",
        "Verify `make test` runs unit + integration without missing targets."
      ],
      "notes": [
        "Updated Makefile test-integration target from `cargo test --test integration_tests` to `cargo test -p splunk-client --test integration_tests`.",
        "This matches the pattern already used by test-live (which was fixed in RQ-0013).",
        "All 22 integration tests pass: make test-integration",
        "make test (unit + integration) passes successfully.",
        "make ci completes successfully with no regressions."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T07:00:00Z",
      "completed_at": "2026-01-20T07:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0015",
      "status": "done",
      "title": "Implement indexes --detailed flag or remove it",
      "priority": "medium",
      "tags": [
        "cli",
        "indexes",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/indexes.rs",
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/indexes.rs takes a _detailed flag but does not use it.",
        "CLI exposes --detailed in help, but behavior is identical to non-detailed output."
      ],
      "plan": [
        "Decide on detailed output fields (paths, retention, size limits) and implement them in the formatters.",
        "Wire the detailed flag through to the formatter output.",
        "Update CLI tests/help to reflect the detailed behavior."
      ],
      "notes": [
        "Updated Formatter trait format_indexes signature to accept detailed: bool parameter.",
        "Updated JsonFormatter::format_indexes to ignore detailed flag (always outputs full Index struct).",
        "Updated TableFormatter::format_indexes to conditionally include Retention (s), Home Path, Cold Path, Thawed Path columns when detailed=true.",
        "Updated CsvFormatter::format_indexes to conditionally include RetentionSecs, HomePath, ColdPath, ThawedPath columns when detailed=true.",
        "Updated XmlFormatter::format_indexes to conditionally include retentionSecs, homePath, coldPath, thawedPath elements when detailed=true.",
        "Updated indexes.rs to rename _detailed to detailed and pass it through to formatter.format_indexes().",
        "Added 7 new tests: test_table_formatter_indexes_basic, test_table_formatter_indexes_detailed, test_csv_formatter_indexes_basic, test_csv_formatter_indexes_detailed, test_xml_formatter_indexes_basic, test_xml_formatter_indexes_detailed, test_json_formatter_indexes_always_detailed.",
        "All 19 CLI formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2025-01-19T20:30:00Z",
      "completed_at": "2025-01-19T20:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0016",
      "status": "done",
      "title": "Make cluster --detailed output format-consistent",
      "priority": "medium",
      "tags": [
        "cli",
        "cluster",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/cluster.rs",
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/cluster.rs prints peers in plain text even when output_format is json/csv/xml.",
        "This mixes human-readable output with structured output formats, breaking parsers."
      ],
      "plan": [
        "Define a structured peers output type and extend formatters to render it in the selected output format.",
        "Gate the peers output on the same formatter rather than println! text.",
        "Add tests for the detailed mode in at least one structured format."
      ],
      "notes": [
        "Added ClusterPeerOutput struct with fields: host, port, id, status, peer_state, label, site, is_captain.",
        "Implemented From<ClusterPeer> for ClusterPeerOutput for easy conversion.",
        "Updated ClusterInfoOutput to include optional peers: Option<Vec<ClusterPeerOutput>> field with skip_serializing_if attribute.",
        "Updated Formatter trait format_cluster_info signature to accept detailed: bool parameter.",
        "Updated JsonFormatter::format_cluster_info to serialize peers array if present (JSON always includes full data).",
        "Updated TableFormatter::format_cluster_info to print peers in tabular format when detailed=true (similar to previous output but through formatter).",
        "Updated CsvFormatter::format_cluster_info to output peers as separate rows with proper escaping when detailed=true.",
        "Updated XmlFormatter::format_cluster_info to wrap peers in <peers><peer>...</peers> structure when detailed=true.",
        "Removed println! loop from cluster.rs that bypassed formatters; peers now fetched and converted to ClusterPeerOutput, passed to formatter.",
        "Added 5 new tests: test_cluster_peers_json_formatting, test_cluster_peers_csv_formatting, test_cluster_peers_xml_formatting, test_cluster_peers_table_formatting, test_cluster_peers_not_shown_when_not_detailed.",
        "All 24 CLI formatter tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-19T23:35:00Z",
      "completed_at": "2026-01-20T09:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0019",
      "status": "done",
      "title": "Centralize layout constants for toast rendering",
      "priority": "low",
      "tags": [
        "tui",
        "ui",
        "consistency"
      ],
      "scope": [
        "crates/tui/src/ui/toast.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/toast.rs defines local HEADER_HEIGHT/FOOTER_HEIGHT constants that duplicate app.rs values.",
        "app.rs exports HEADER_HEIGHT/FOOTER_HEIGHT via lib.rs, but toast.rs does not use them."
      ],
      "plan": [
        "Use the shared layout constants from app.rs (via crate root) in toast rendering.",
        "Remove the duplicated constants from toast.rs to avoid drift.",
        "Run existing toast tests to confirm behavior is unchanged."
      ],
      "notes": [
        "Added import: use crate::app::{FOOTER_HEIGHT, HEADER_HEIGHT}; to toast.rs",
        "Removed duplicate local constants (HEADER_HEIGHT, FOOTER_HEIGHT) from toast.rs:229-231",
        "Toast rendering now uses shared constants from app.rs, eliminating duplication and potential drift",
        "All 7 toast tests pass and make ci completes successfully"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T16:00:00Z",
      "completed_at": "2026-01-20T16:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0020",
      "status": "done",
      "title": "Fix lib.rs docs example to match App::new signature",
      "priority": "low",
      "tags": [
        "docs",
        "tui"
      ],
      "scope": [
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/lib.rs docs example calls App::new() but App::new takes an Option<PersistedState> parameter.",
        "Only Default is implemented, so the example as written does not compile."
      ],
      "plan": [
        "Update the example to use App::new(None) or App::default().",
        "Run doc tests (or add a compile test) to ensure the example compiles.",
        "Confirm documentation remains accurate after the change."
      ],
      "notes": [
        "Changed documentation example from App::new() to App::default() in crates/tui/src/lib.rs:12.",
        "App::default() internally calls App::new(None), making it the cleanest fix for the doctest.",
        "Verified doctests pass: cargo test -p splunk-tui --doc (2 passed).",
        "make ci completes successfully with all checks passing."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T07:13:34Z",
      "completed_at": "2026-01-20T20:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0024",
      "status": "done",
      "title": "Implement Splunk server info detection for environment identification",
      "priority": "critical",
      "tags": [
        "client",
        "health",
        "infrastructure"
      ],
      "scope": [
        "crates/client/src/endpoints/",
        "crates/client/src/models.rs",
        "crates/client/src/client.rs"
      ],
      "evidence": [
        "Cluster management endpoints in crates/client/src/endpoints/cluster.rs assume a cluster manager is present.",
        "Splunk health checks require knowing the environment type (standalone, cluster manager, search head, etc.).",
        "/services/server/info provides essential environment metadata."
      ],
      "plan": [
        "Add get_server_info endpoint implementation to fetch /services/server/info.",
        "Define ServerInfo and related models in client/src/models.rs.",
        "Update SplunkClient to use server info for tailoring subsequent health checks and cluster operations."
      ],
      "notes": [
        "Implemented get_server_info endpoint in crates/client/src/endpoints/server.rs.",
        "Added ServerInfo struct to crates/client/src/models.rs.",
        "Exposed get_server_info method on SplunkClient in crates/client/src/client.rs.",
        "Added integration test test_get_server_info with wiremock.",
        "Verified all tests and linting pass."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T12:00:00Z",
      "completed_at": "2026-01-20T12:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0025",
      "status": "done",
      "title": "Implement system-wide health check API client",
      "priority": "high",
      "tags": [
        "client",
        "health"
      ],
      "scope": [
        "crates/client/src/endpoints/",
        "crates/client/src/models.rs"
      ],
      "evidence": [
        "Requested feature: Automated Splunk Health checks.",
        "Splunk provides /services/server/health/splunkd for overall system health monitoring."
      ],
      "plan": [
        "Implement get_health endpoint to fetch health status from /services/server/health/splunkd.",
        "Add structured models for health components and their statuses.",
        "Add integration tests with mock health responses."
      ],
      "notes": [
        "Implemented get_health endpoint in crates/client/src/endpoints/server.rs targeting /services/server/health/splunkd.",
        "Added SplunkHealth and HealthFeature models to crates/client/src/models.rs using HashMap for dynamic features.",
        "Exposed get_health method on SplunkClient in crates/client/src/client.rs with session retry logic.",
        "Added comprehensive integration test test_get_health with wiremock and JSON fixture.",
        "Created crates/client/fixtures/server/get_health.json for testing.",
        "make ci passed successfully (lint, type-check, tests, build)."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T17:45:00Z",
      "completed_at": "2026-01-20T17:45:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0026",
      "status": "done",
      "title": "Implement license usage monitoring API client",
      "priority": "high",
      "tags": [
        "client",
        "health",
        "license"
      ],
      "scope": [
        "crates/client/src/endpoints/",
        "crates/client/src/models.rs"
      ],
      "evidence": [
        "Requested feature: Automated health checks include license usage monitoring.",
        "License warnings and violations are critical health indicators."
      ],
      "plan": [
        "Implement get_license_usage endpoint to fetch data from /services/license/usage.",
        "Define models for license pools, stacks, and usage metrics.",
        "Verify parsing with integration tests."
      ],
      "notes": [
        "Implemented get_license_usage endpoint in crates/client/src/endpoints/license.rs targeting /services/license/usage.",
        "Added LicenseUsage, LicensePool, and LicenseStack models to crates/client/src/models.rs.",
        "Exposed get_license_usage method on SplunkClient in crates/client/src/client.rs with session retry logic.",
        "Added integration test test_get_license_usage with wiremock and JSON fixture.",
        "Created crates/client/fixtures/license/get_usage.json for testing.",
        "make ci passed successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T21:20:00Z",
      "completed_at": "2026-01-20T21:20:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0027",
      "status": "done",
      "title": "Implement KVStore status tracking API client",
      "priority": "medium",
      "tags": [
        "client",
        "health",
        "kvstore"
      ],
      "scope": [
        "crates/client/src/endpoints/",
        "crates/client/src/models.rs"
      ],
      "evidence": [
        "Requested feature: Automated health checks include KVStore status.",
        "KVStore failures impact many Splunk apps and search features."
      ],
      "plan": [
        "Implement get_kvstore_status endpoint to fetch data from /services/kvstore/status.",
        "Define models for KVStore replication and member status.",
        "Add integration tests."
      ],
      "notes": [
        "Implemented get_kvstore_status endpoint in crates/client/src/endpoints/kvstore.rs.",
        "Added KvStoreStatus, KvStoreMember, and KvStoreReplicationStatus models to crates/client/src/models.rs.",
        "Exposed get_kvstore_status method on SplunkClient in crates/client/src/client.rs with session retry logic.",
        "Added integration tests test_get_kvstore_status and test_splunk_client_get_kvstore_status in integration_tests.rs.",
        "Created crates/client/fixtures/kvstore/status.json for testing.",
        "make ci passed successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T22:30:00Z",
      "completed_at": "2026-01-20T22:30:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0028",
      "status": "done",
      "title": "Implement automated log parsing error search",
      "priority": "high",
      "tags": [
        "client",
        "health",
        "search"
      ],
      "scope": [
        "crates/client/src/endpoints/parsing.rs",
        "crates/client/src/models.rs",
        "crates/client/src/client.rs",
        "crates/client/tests/integration_tests.rs",
        "crates/client/fixtures/parsing/check_health.json"
      ],
      "evidence": [
        "Requested feature: Log source parsing checks.",
        "Parsing errors are typically logged in _internal with specific components like TuningParser or DateParserVerbose."
      ],
      "plan": [
        "Define a specialized search query for identifying parsing errors in _internal logs.",
        "Implement a convenience method in SplunkClient to run this health search and parse results.",
        "Add models to represent identified parsing issues (source, sourcetype, error message)."
      ],
      "notes": [
        "Implemented check_log_parsing_health endpoint in crates/client/src/endpoints/parsing.rs that creates a search job targeting _internal index with parsing error components (TuningParser, DateParserVerbose, Parser).",
        "Added LogParsingError and LogParsingHealth models to crates/client/src/models.rs with time, source, sourcetype, message, log_level, and component fields.",
        "Exposed check_log_parsing_health method on SplunkClient in crates/client/src/client.rs with session retry logic.",
        "Added 4 comprehensive integration tests: test_check_log_parsing_health (with errors), test_check_log_parsing_health_no_errors (healthy), test_splunk_client_check_log_parsing_health (API token), test_splunk_client_check_log_parsing_health_session_retry (session auth retry).",
        "Created crates/client/fixtures/parsing/check_health.json for testing with sample parsing error entries.",
        "Unit tests added to models.rs: test_deserialize_log_parsing_error, test_deserialize_log_parsing_health.",
        "All 36 integration tests pass (including 4 new parsing health tests) and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T23:00:00Z",
      "completed_at": "2026-01-20T23:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0031",
      "status": "done",
      "title": "Implement splunk health CLI command",
      "priority": "medium",
      "tags": [
        "cli",
        "health"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/health.rs"
      ],
      "evidence": [
        "Requested feature: Automated health checks should be available via CLI for automation.",
        "Existing CLI structure supports subcommands for specific resources."
      ],
      "plan": [
        "Add health subcommand to crates/cli/src/main.rs.",
        "Implement crates/cli/src/commands/health.rs to aggregate and display health data in various formats (JSON, Table).",
        "Ensure it handles both standalone and distributed environments gracefully."
      ],
      "notes": [
        "Added `splunk health` CLI command that aggregates data from server info, system health, license usage, KVStore status, and log parsing checks.",
        "Implemented multi-format output (Table, JSON, CSV, XML) for the health command in `crates/cli/src/formatters.rs`.",
        "Updated client models and crate exports to support health data serialization.",
        "Added integration tests for `splunk health` verifying help output and connectivity behavior.",
        "Updated Makefile `test-integration` to include all CLI integration tests.",
        "Verified all tests and linting pass with `make ci`."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T21:15:00Z",
      "completed_at": "2026-01-20T21:15:00Z",
      "depends_on": [
        "RQ-0024",
        "RQ-0025",
        "RQ-0026",
        "RQ-0027",
        "RQ-0028"
      ],
      "custom_fields": {}
    },
    {
      "id": "RQ-0029",
      "status": "done",
      "title": "Refactor TUI screens from app.rs into ui/screens",
      "priority": "medium",
      "tags": [
        "tui",
        "refactor",
        "ui"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/screens/"
      ],
      "evidence": [
        "crates/tui/src/app.rs contains rendering logic for Search, Indexes, and Cluster screens, making it overly large.",
        "Jobs and JobDetails screens are already correctly separated into crates/tui/src/ui/screens/."
      ],
      "plan": [
        "Move render_search to crates/tui/src/ui/screens/search.rs.",
        "Move render_indexes to crates/tui/src/ui/screens/indexes.rs.",
        "Move render_cluster to crates/tui/src/ui/screens/cluster.rs.",
        "Update app.rs to call these new modules, maintaining clean state separation."
      ],
      "notes": [
        "Created crates/tui/src/ui/screens/search.rs with SearchRenderConfig struct and render_search() function.",
        "Created crates/tui/src/ui/screens/indexes.rs with IndexesRenderConfig struct and render_indexes() function.",
        "Created crates/tui/src/ui/screens/cluster.rs with ClusterRenderConfig struct and render_cluster() function.",
        "Updated crates/tui/src/ui/screens/mod.rs to export cluster, indexes, and search modules.",
        "Updated crates/tui/src/app.rs: Added imports for new screen modules, removed unused ListItem import, added KeyEvent import.",
        "Updated crates/tui/src/app.rs render_content() to call the new screen modules with their respective config structs.",
        "Removed render_search, render_indexes, and render_cluster methods from app.rs (now in screen modules).",
        "All modules follow the existing pattern: config struct for passing state, render function using ratatui Frame/Rect.",
        "make ci passes all checks: 93 tests (unit + integration), linting, formatting, build successful."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T22:18:39Z",
      "completed_at": "2026-01-20T22:18:39Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0030",
      "status": "done",
      "title": "Create dedicated Health Check TUI screen",
      "priority": "medium",
      "tags": [
        "tui",
        "health",
        "ui"
      ],
      "scope": [
        "crates/tui/src/ui/screens/health.rs",
        "crates/tui/src/action.rs",
        "crates/tui/src/ui/screens/mod.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs",
        "README.md"
      ],
      "evidence": [
        "Requested feature: Automated health check feature in the TUI.",
        "Users need a centralized view for monitoring environment health."
      ],
      "plan": [
        "Add Health variant to CurrentScreen enum in app.rs.",
        "Implement ui/screens/health.rs to display metrics (system health, license, KVStore, parsing errors).",
        "Add navigation to the new screen (Key '5') and update help documentation."
      ],
      "notes": [
        "Created new health screen module (crates/tui/src/ui/screens/health.rs) with render_health() function displaying comprehensive health metrics including server info, splunkd health, license usage, KVStore status, and log parsing health.",
        "Updated Action enum with LoadHealth and HealthLoaded(Box<Result<HealthCheckOutput, String>>) variants (boxed to avoid large enum variant warning).",
        "Integrated Health screen into App with navigation key '5', added health_info: Option<HealthCheckOutput> field to App struct, and implemented handle_health_input() method.",
        "Implemented health loading side effect in main.rs that sequentially collects server info, splunkd health, license usage, KVStore status, and log parsing health.",
        "Updated all screen input handlers (search, jobs, indexes, cluster) to include '5' key navigation to Health screen.",
        "Updated header rendering to show 'Health' in the title bar when on Health screen.",
        "Updated footer navigation to show '1:Search 2:Indexes 3:Cluster 4:Jobs 5:Health' in both loading and non-loading states.",
        "Added Health case to render_content() match statement calling health::render_health().",
        "Added HealthLoaded action handling in update() method for both Ok and Err cases.",
        "Updated all snapshot tests (21 files) to include '5:Health' in footer navigation.",
        "Updated README.md to document Health screen, updated keybindings to include '5', added 'r' for refresh and '?' for help.",
        "Added comprehensive unit tests in health.rs: test_format_bytes (7 assertions), test_percentage_text (4 assertions), test_health_color (5 assertions), test_build_health_text_empty (2 assertions), test_build_health_text_with_server_info (3 assertions), test_build_health_text_with_license (3 assertions), test_build_health_text_with_log_parsing (6 assertions).",
        "All health screen unit tests pass and make ci completes successfully."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T22:19:47Z",
      "completed_at": "2026-01-20T22:40:18Z",
      "depends_on": [
        "RQ-0025",
        "RQ-0026",
        "RQ-0027",
        "RQ-0028"
      ],
      "custom_fields": {}
    },
    {
      "id": "RQ-0032",
      "status": "done",
      "title": "Implement multi-profile configuration support",
      "priority": "high",
      "tags": [
        "config",
        "ux",
        "multi-profile"
      ],
      "scope": [
        "crates/config/src/"
      ],
      "evidence": [
        "Current configuration in crates/config/src/loader.rs is heavily reliant on environment variables.",
        "No simple mechanism exists to switch between multiple Splunk environments (e.g., dev vs prod)."
      ],
      "plan": [
        "Define a configuration file structure (e.g., config.json or config.toml) that supports multiple named profiles.",
        "Update ConfigLoader to read from standard locations (~/.config/splunk-tui/config.json).",
        "Add logic to select the active profile via environment variable or CLI flag."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-20T23:47:53.451025000Z",
      "completed_at": "2026-01-20T23:47:53.451025000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0041",
      "status": "done",
      "title": "Create user-facing usage and configuration documentation",
      "priority": "medium",
      "tags": [
        "docs",
        "ux",
        "config"
      ],
      "scope": [
        "docs/usage.md",
        "AGENTS.md",
        "crates/config/src/types.rs",
        "crates/cli/src/main.rs"
      ],
      "evidence": [
        "User request: \"Create docs that accurately reflect the usage and configurable values of this app... these docs need to be updated as the commands, usage, and configs change.\""
      ],
      "plan": [
        "Identify all configurable parameters in the config crate.",
        "Document CLI usage and TUI shortcuts for end-users without technical jargon.",
        "Create or update docs/usage.md with the gathered information.",
        "Add a policy to AGENTS.md requiring documentation updates whenever commands or configurations are modified."
      ],
      "notes": [
        "Created comprehensive user-facing documentation in docs/usage.md",
        "Updated AGENTS.md with a policy to maintain documentation",
        "Verified documentation accuracy against CLI, TUI, and config implementations",
        "Confirmed all tests pass via make ci"
      ],
      "request": "Create docs that accurately reflect the usage and configurable values of this app. No need to get into the technical details. More user facing documentation than design decisions. These docs need to be updated as the commands, usage, and configs change. Make a note about maintaining docs in AGENTS.md",
      "created_at": "2026-01-21T12:00:00Z",
      "updated_at": "2026-01-21T18:19:52.345597000Z",
      "completed_at": "2026-01-21T18:19:52.345597000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0033",
      "status": "done",
      "title": "Optimize search result formatting cache in TUI",
      "priority": "medium",
      "tags": [
        "tui",
        "performance",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs:608 calls serde_json::to_string_pretty() on every frame for visible search results.",
        "This causes unnecessary CPU load and can impact scroll smoothness for large result sets."
      ],
      "plan": [
        "Add a search results cache (e.g., Vec<String>) to App state to store pre-formatted JSON strings.",
        "Update the cache only when new results are loaded.",
        "Modify render_search to use the cached strings."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T18:34:10.144454000Z",
      "completed_at": "2026-01-21T18:34:10.144454000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0036",
      "status": "done",
      "title": "Implement search query history in TUI",
      "priority": "medium",
      "tags": [
        "tui",
        "ux",
        "search"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/config/src/persistence.rs"
      ],
      "evidence": [
        "Users frequently reuse or slightly modify previous search queries.",
        "Current search screen does not persist or provide access to previous queries beyond the last one."
      ],
      "plan": [
        "Add a search_history: Vec<String> field to PersistedState.",
        "Capture queries on successful search execution and store them in history (with a size limit).",
        "Add a TUI mechanism (e.g., a popup or up/down arrows in search field) to browse and select from history."
      ],
      "notes": [
        "Implemented search query history with persistence in crates/config and crates/tui.",
        "Added Up/Down arrow navigation for history in Search screen.",
        "Added Ctrl+j/k for result scrolling while in search input.",
        "Added comprehensive unit tests in app_tests.rs covering history navigation and deduplication.",
        "Updated help popup and docs/usage.md with new shortcuts."
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T18:40:54.905224000Z",
      "completed_at": "2026-01-21T18:40:54.905224000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0034",
      "status": "done",
      "title": "Add mouse support to TUI for navigation and selection",
      "priority": "medium",
      "tags": [
        "tui",
        "ux",
        "mouse"
      ],
      "scope": [
        "crates/tui/src/main.rs",
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "TUI is currently keyboard-only, which can be less efficient for some users.",
        "Ratatui supports mouse events, but they are not enabled or handled in the current implementation."
      ],
      "plan": [
        "Enable mouse capture in crates/tui/src/main.rs using crossterm.",
        "Handle MouseEvent in App::handle_input.",
        "Implement clicking on tab headers to switch screens and clicking list/table items for selection."
      ],
      "notes": [
        "Refined footer navigation bounds for more robust mouse clicking",
        "Fixed jobs table click detection when filtering is active",
        "Verified mouse support with comprehensive unit tests",
        "Ensured mouse capture is correctly enabled/disabled in terminal lifecycle"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T18:49:22.290608000Z",
      "completed_at": "2026-01-21T18:49:22.290608000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0035",
      "status": "done",
      "title": "Enhance CLI error reporting with request IDs and URIs",
      "priority": "low",
      "tags": [
        "cli",
        "client",
        "dx"
      ],
      "scope": [
        "crates/client/src/error.rs",
        "crates/client/src/endpoints/request.rs"
      ],
      "evidence": [
        "Current ApiError in crates/client/src/error.rs only captures status and message.",
        "Troubleshooting Splunk API issues is difficult without the request ID (X-Splunk-Request-Id) and the specific URI that failed."
      ],
      "plan": [
        "Expand ClientError::ApiError to include url and request_id fields.",
        "Update send_request_with_retry in request.rs to extract these details from the response and headers on failure.",
        "Update CLI formatters to display these details when an error occurs."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T19:01:20.762104000Z",
      "completed_at": "2026-01-21T19:01:20.762104000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0038",
      "status": "done",
      "title": "Implement make release target for optimized builds",
      "priority": "high",
      "tags": [
        "workflow",
        "makefile",
        "build"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "The Makefile lacks a standard release target that produces fully optimized, stripped binaries.",
        "Current build target installs release binaries to ~/.local/bin but may not be optimized for maximum performance or minimum size."
      ],
      "plan": [
        "Add a release target to the Makefile that runs cargo build --release with LTO and symbols stripped.",
        "Ensure it also handles installation of the optimized binaries.",
        "Update CI target to use release builds where appropriate."
      ],
      "notes": [
        "Optimized release profile in Cargo.toml with LTO and symbol stripping",
        "Implemented make release target for automated optimized builds and installation",
        "Updated README.md installation instructions and Makefile targets table",
        "Verified full CI pipeline passes with release builds"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T19:07:45.040855000Z",
      "completed_at": "2026-01-21T19:07:45.040855000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0039",
      "status": "done",
      "title": "Add comprehensive linting and formatting enforcement to CI",
      "priority": "low",
      "tags": [
        "workflow",
        "ci",
        "quality"
      ],
      "scope": [
        "Makefile"
      ],
      "evidence": [
        "AGENTS.md requires make ci to catch ALL potential issues.",
        "Makefile's lint target currently runs only cargo clippy without strict settings."
      ],
      "plan": [
        "Update make lint to include cargo clippy -- -D warnings and cargo fmt --check.",
        "Ensure all crates adhere to the project's formatting standards.",
        "Add clippy to the CI pipeline to block regressions."
      ],
      "notes": [
        "Updated Makefile lint target with strict clippy and fmt checks",
        "Ensured lint and type-check targets cover the entire workspace",
        "Verified all crates adhere to formatting standards",
        "Confirmed make ci passes with new enforcement"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T19:12:02.271141000Z",
      "completed_at": "2026-01-21T19:12:02.271141000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0040",
      "status": "done",
      "title": "Add user documentation guide for TUI and CLI",
      "priority": "low",
      "tags": [
        "docs",
        "ux"
      ],
      "scope": [
        "docs/user-guide.md",
        "README.md"
      ],
      "evidence": [
        "The project lacks a comprehensive guide for users to discover TUI shortcuts and CLI advanced usage.",
        "README.md is basic and does not cover all available features."
      ],
      "plan": [
        "Create docs/user-guide.md with sections for TUI navigation, shortcuts, search syntax, and CLI command examples.",
        "Link to the guide from README.md.",
        "Include a troubleshooting section with common API error explanations."
      ],
      "notes": [
        "Created docs/user-guide.md with comprehensive TUI and CLI instructions",
        "Added troubleshooting section for common API errors",
        "Included TUI shortcut reference and search syntax tips",
        "Updated README.md to link to the new documentation",
        "Verified TUI mouse support implementation matches documentation"
      ],
      "request": "scan finding",
      "created_at": "2026-01-20T17:15:00Z",
      "updated_at": "2026-01-21T19:14:35.414099000Z",
      "completed_at": "2026-01-21T19:14:35.414099000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0042",
      "status": "done",
      "title": "Add export functionality to Search screen in TUI",
      "priority": "high",
      "tags": [
        "tui",
        "search",
        "export",
        "ux"
      ],
      "scope": [
        "crates/tui/src/ui/screens/search.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/action.rs"
      ],
      "evidence": [
        "Users can currently only view search results within the TUI.",
        "Exporting to CSV/JSON is a common requirement for data analysis."
      ],
      "plan": [
        "Add an Action::ExportSearchResults(PathBuf, ExportFormat) variant.",
        "Implement a popup in the Search screen to prompt for filename and format.",
        "Add logic in main loop or app to write search_results to the specified file.",
        "Show a success toast when the export completes."
      ],
      "notes": [
        "Added export functionality (JSON/CSV) to Search screen",
        "Created dedicated export module with robust CSV header discovery",
        "Implemented interactive export popup with auto-extension toggling",
        "Refactored main.rs to properly use library crate modules",
        "Added comprehensive unit and integration tests for export flow"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:30:00Z",
      "updated_at": "2026-01-21T19:39:27.875109000Z",
      "completed_at": "2026-01-21T19:39:27.875109000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0043",
      "status": "done",
      "title": "Implement a dedicated KVStore command in the CLI",
      "priority": "medium",
      "tags": [
        "cli",
        "kvstore"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/kvstore.rs"
      ],
      "evidence": [
        "The client library already has get_kvstore_status but it's only exposed via the health command.",
        "A dedicated command allows for more specific monitoring of KVStore components."
      ],
      "plan": [
        "Add a 'kvstore' subcommand to the CLI.",
        "Implement crates/cli/src/commands/kvstore.rs to fetch and display KVStore status.",
        "Add tabular and JSON output formats for the KVStore data."
      ],
      "notes": [
        "Implemented dedicated kvstore CLI command with multiple output formats and tests. Fixed a regression in health check table formatting."
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:31:00Z",
      "updated_at": "2026-01-21T19:47:50.460008000Z",
      "completed_at": "2026-01-21T19:47:50.460008000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0044",
      "status": "done",
      "title": "Implement a dedicated License command in the CLI",
      "priority": "medium",
      "tags": [
        "cli",
        "license"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/license.rs"
      ],
      "evidence": [
        "License usage is a key metric but is currently bundled only in the health command.",
        "Standalone license monitoring is useful for capacity planning scripts."
      ],
      "plan": [
        "Add a 'license' subcommand to the CLI.",
        "Implement crates/cli/src/commands/license.rs to fetch license usage.",
        "Support detailed output showing pools, stacks, and quota alerts."
      ],
      "notes": [
        "Implemented 'license' subcommand in CLI",
        "Added client endpoints for license pools and stacks",
        "Implemented JSON, Table, CSV, and XML formatters for license data",
        "Added integration tests for license command and client endpoints",
        "Updated documentation and CI configuration"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:32:00Z",
      "updated_at": "2026-01-21T20:08:37.394304000Z",
      "completed_at": "2026-01-21T20:08:37.394304000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0045",
      "status": "done",
      "title": "Add a 'Saved Searches' screen to the TUI",
      "priority": "medium",
      "tags": [
        "tui",
        "feature",
        "search"
      ],
      "scope": [
        "crates/tui/src/ui/screens/saved_searches.rs",
        "crates/client/src/endpoints/search.rs"
      ],
      "evidence": [
        "Users often run the same searches repeatedly.",
        "Accessing Splunk 'Saved Searches' directly in the TUI would improve workflow."
      ],
      "plan": [
        "Implement a new client endpoint to list saved searches.",
        "Add a 'Saved Searches' variant to CurrentScreen.",
        "Create the UI screen to list and select saved searches to run them."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:33:00Z",
      "updated_at": "2026-01-21T20:36:34.130198000Z",
      "completed_at": "2026-01-21T20:36:34.130198000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0046",
      "status": "done",
      "title": "Implement SPL syntax highlighting in the TUI search input",
      "priority": "medium",
      "tags": [
        "tui",
        "ux",
        "search"
      ],
      "scope": [
        "crates/tui/src/ui/screens/search.rs"
      ],
      "evidence": [
        "The current search input is plain text.",
        "Highlighting SPL keywords (search, index, pipe, etc.) makes complex queries easier to read."
      ],
      "plan": [
        "Create a simple SPL tokenizer in the TUI crate.",
        "Update render_search to use Span with different styles for keywords, strings, and operators.",
        "Ensure performance remains high during rapid typing."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:34:00Z",
      "updated_at": "2026-01-21T20:57:09.487287000Z",
      "completed_at": "2026-01-21T20:57:09.487287000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0047",
      "status": "done",
      "title": "Add support for secure credential storage using 'keyring' crate",
      "priority": "high",
      "tags": [
        "security",
        "config"
      ],
      "scope": [
        "crates/config/src/persistence.rs",
        "crates/config/Cargo.toml"
      ],
      "evidence": [
        "Currently, passwords and API tokens are stored in plain text in config.json.",
        "Using the system keyring is a security best practice for CLI tools."
      ],
      "plan": [
        "Add the 'keyring' crate to crates/config dependencies.",
        "Modify PersistedState to optionally store a key identifier instead of the secret.",
        "Implement logic to fetch/store secrets in the system keyring (macOS Keychain, Windows Credential Vault, etc.)."
      ],
      "notes": [
        "Integrated 'keyring' crate for secure credential storage",
        "Implemented SecureValue enum for flexible storage (Plain or Keyring)",
        "Added migration methods to move credentials from config file to system keyring",
        "Ensured backward compatibility with existing plain-text configurations",
        "Updated documentation and added comprehensive tests"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:35:00Z",
      "updated_at": "2026-01-21T21:18:49.651685000Z",
      "completed_at": "2026-01-21T21:18:49.651685000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0048",
      "status": "done",
      "title": "Implement 'Tail Internal Logs' command/screen",
      "priority": "medium",
      "tags": [
        "tui",
        "cli",
        "debug"
      ],
      "scope": [
        "crates/tui/src/ui/screens/internal_logs.rs",
        "crates/cli/src/commands/logs.rs"
      ],
      "evidence": [
        "Administrators often need to monitor Splunk's own logs for troubleshooting.",
        "A 'tail -f' like experience for index=_internal would be highly valuable."
      ],
      "plan": [
        "Implement a streaming search client that polls for new results in real-time.",
        "Add a CLI command 'splunk logs --tail'.",
        "Add a TUI screen that shows a live-updating list of internal logs."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:36:00Z",
      "updated_at": "2026-01-21T21:39:35.193987000Z",
      "completed_at": "2026-01-21T21:39:35.193987000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0049",
      "status": "done",
      "title": "Add search progress bar to the TUI Search screen",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/ui/screens/search.rs",
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "Long-running searches in the TUI provide no visual feedback on progress.",
        "Splunk provides search job progress via the REST API."
      ],
      "plan": [
        "Modify the search execution to periodically poll for job status while running.",
        "Update App state with the current progress percentage.",
        "Render a Gauge widget in the Search screen's status area."
      ],
      "notes": [
        "Modified the Search screen to render a Gauge widget in the status area when a search is running.",
        "Implemented periodic polling of search job status to update the progress bar.",
        "Refined App state management to reset progress when loading starts, preventing stale UI feedback.",
        "Added visual regression tests via insta snapshots for the new loading state on the search screen."
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:37:00Z",
      "updated_at": "2026-01-21T21:45:32.361749000Z",
      "completed_at": "2026-01-21T21:45:32.361749000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0057",
      "status": "done",
      "title": "Rename CLI command from 'splunk' to 'splunk-cli'",
      "priority": "medium",
      "tags": [
        "cli",
        "refactor",
        "naming"
      ],
      "scope": [
        "crates/cli/Cargo.toml",
        "crates/cli/src/main.rs",
        "Makefile",
        "scripts/test-live-server.sh",
        "README.md",
        "docs/usage.md",
        "docs/user-guide.md",
        "crates/cli/tests/"
      ],
      "evidence": [
        "User request: The CLI command 'splunk' needs renamed to 'splunk-cli' to not clash with the real 'splunk' binary",
        "Search found 618 matches for 'splunk', many of which refer to the CLI command name."
      ],
      "plan": [
        "Update crates/cli/Cargo.toml to set [[bin]] name to 'splunk-cli'.",
        "Update crates/cli/src/main.rs to set #[command(name = 'splunk-cli')].",
        "Update Makefile to set BINS := splunk-cli splunk-tui.",
        "Update scripts/test-live-server.sh to use 'splunk-cli' instead of 'splunk'.",
        "Update all examples in README.md, docs/usage.md, and docs/user-guide.md.",
        "Update integration tests in crates/cli/tests/ to use 'splunk-cli' binary.",
        "Verify changes by running 'make ci'."
      ],
      "notes": [
        "Binary renamed: splunk â†’ splunk-cli",
        "All scope files updated correctly",
        "All 261 tests pass (make ci)",
        "Documentation examples updated (34 total)",
        "Integration tests updated (26 invocations)"
      ],
      "request": "The CLI command 'splunk' needs renamed to 'splunk-cli' to not clash with the real 'splunk' binary",
      "created_at": "2026-01-21T21:49:25Z",
      "updated_at": "2026-01-24T01:45:04.014107000Z",
      "completed_at": "2026-01-24T01:45:04.014107000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0050",
      "status": "done",
      "title": "Implement multi-selection in the Jobs screen for batch actions",
      "priority": "medium",
      "tags": [
        "tui",
        "jobs",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/screens/jobs.rs"
      ],
      "evidence": [
        "Users can only cancel or delete one job at a time.",
        "Batch operations are much faster for clearing many orphaned jobs."
      ],
      "plan": [
        "Add a selected_jobs: HashSet<String> to track multiple SIDs.",
        "Implement spacebar toggling for selection in the Jobs table.",
        "Update 'c' and 'd' actions to apply to all selected jobs with a single confirmation."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:38:00Z",
      "updated_at": "2026-01-24T02:34:32.831445000Z",
      "completed_at": "2026-01-24T02:34:32.831445000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0051",
      "status": "done",
      "title": "Add a configuration management command ('splunk-cli config')",
      "priority": "medium",
      "tags": [
        "cli",
        "config"
      ],
      "scope": [
        "crates/cli/src/commands/config.rs",
        "crates/config/src/loader.rs"
      ],
      "evidence": [
        "Managing profiles currently requires manual editing of config.json.",
        "A CLI command to list, set, and delete profiles would be more user-friendly."
      ],
      "plan": [
        "Add a 'config' subcommand with 'list', 'set', and 'delete' actions.",
        "Implement logic to update the JSON configuration file safely.",
        "Add interactive prompts for sensitive values like passwords."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:39:00Z",
      "updated_at": "2026-01-24T04:23:51.533554000Z",
      "completed_at": "2026-01-24T04:23:51.533554000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0052",
      "status": "done",
      "title": "Enhance TUI error reporting for search failures",
      "priority": "medium",
      "tags": [
        "tui",
        "ux",
        "search"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/ui/toast.rs"
      ],
      "evidence": [
        "Search errors in the TUI are often truncated or generic.",
        "Splunk returns detailed error messages and warnings in the job results."
      ],
      "plan": [
        "Capture full error details from the Splunk API when a search fails.",
        "Implement an 'Error Details' popup to show the full JSON error response.",
        "Improve toast notifications to handle multi-line error messages."
      ],
      "notes": [],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:40:00Z",
      "updated_at": "2026-01-24T05:28:18.139946000Z",
      "completed_at": "2026-01-24T05:28:18.139946000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0053",
      "status": "done",
      "title": "Implement result virtualization/paging in TUI to handle large datasets",
      "priority": "high",
      "tags": [
        "tui",
        "performance",
        "search"
      ],
      "scope": [
        "crates/tui/src/ui/screens/search.rs",
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "Rendering thousands of search results in a Paragraph is slow and memory-intensive.",
        "Virtualization would only render the visible portion of the results."
      ],
      "plan": [
        "Replace the simple Paragraph with a custom widget or List that only processes visible results.",
        "Implement on-demand formatting of JSON results as the user scrolls.",
        "Add support for fetching more results from Splunk as the user reaches the end of the list."
      ],
      "notes": [
        "Implemented result virtualization: on-demand formatting instead of eager pre-formatting",
        "Added pagination state tracking (total_count, has_more_results, page_size)",
        "Added auto-fetch when scrolling within 10 items of end",
        "Removed dead code (search_results_formatted field)",
        "Simplified viewport height calculation (removed redundant logic)"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:41:00Z",
      "updated_at": "2026-01-24T06:03:59.438566000Z",
      "completed_at": "2026-01-24T06:03:59.438566000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0054",
      "status": "done",
      "title": "Add 'App Management' screen to TUI",
      "priority": "low",
      "tags": [
        "tui",
        "feature"
      ],
      "scope": [
        "crates/tui/src/ui/screens/apps.rs",
        "crates/client/src/endpoints/server.rs"
      ],
      "evidence": [
        "Users may want to see which apps are installed and their versions.",
        "Splunk provides an endpoint for listing installed apps."
      ],
      "plan": [
        "Implement a client endpoint for /services/apps/local.",
        "Create a new TUI screen to list apps and their status.",
        "Add navigation and refresh support."
      ],
      "notes": [
        "Added client endpoint for /services/apps/local with auth/retry",
        "Created new Apps screen in TUI (screen 8) with list rendering",
        "Added LoadApps/AppsLoaded actions and side effect handler",
        "Updated footer navigation hints across all 20 snapshot files",
        "Added unit tests for App model deserialization"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:42:00Z",
      "updated_at": "2026-01-24T06:32:09.882415000Z",
      "completed_at": "2026-01-24T06:32:09.882415000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0055",
      "status": "done",
      "title": "Add 'User/Role Management' screen to TUI (Basic list)",
      "priority": "low",
      "tags": [
        "tui",
        "feature",
        "admin"
      ],
      "scope": [
        "crates/tui/src/ui/screens/users.rs",
        "crates/client/src/endpoints/server.rs"
      ],
      "evidence": [
        "Basic user and role visibility is useful for administrators.",
        "This can be a read-only list for now to minimize security risks."
      ],
      "plan": [
        "Implement client endpoints for /services/authentication/users.",
        "Add a 'Users' variant to CurrentScreen.",
        "Render a table of users, their roles, and last login times."
      ],
      "notes": [
        "Implemented client endpoint for /services/authentication/users in crates/client/src/endpoints/users.rs",
        "Added User and UserListResponse models to crates/client/src/models.rs with fields for name, realname, email, roles, and last_successful_login",
        "Added CurrentScreen::Users variant to crates/tui/src/app.rs with users state management (users: Vec<User>, users_state: ListState)",
        "Implemented users screen renderer in crates/tui/src/ui/screens/users.rs with loading, empty, and data states",
        "Added keyboard navigation (9 key to switch screens, r to refresh, j/k for navigation) and mouse click support for footer tab 9",
        "Added side effect handler for LoadUsers action in crates/tui/src/main.rs with proper error handling and toast notifications",
        "Added 3 snapshot tests: empty, loading, and with_data covering edge cases (admin user, power user, no roles, never login)",
        "Documentation updated in docs/usage.md with Users Screen keyboard shortcuts and display information",
        "All 27 snapshot tests pass, all 81 unit tests pass, cargo clippy clean, make ci passes"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:43:00Z",
      "updated_at": "2026-01-24T07:04:02.786724000Z",
      "completed_at": "2026-01-24T07:04:02.786724000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0056",
      "status": "done",
      "title": "Improve CLI output for CSV/XML formats with better nesting handling",
      "priority": "low",
      "tags": [
        "cli",
        "formatting"
      ],
      "scope": [
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "Flattening complex JSON objects for CSV/XML can lead to data loss or confusing output.",
        "Better handling of nested structures would improve the utility of these formats for scripts."
      ],
      "plan": [
        "Implement a recursive flattener for nested JSON objects in the CsvFormatter.",
        "Use dot-notation for nested keys (e.g., 'user.name').",
        "Improve XML structure for complex nested fields."
      ],
      "notes": [
        "Implemented recursive JSON flattening for CSV with dot-notation (e.g., user.name, tags.0)",
        "Implemented hierarchical XML structure preserving nested objects as elements",
        "Added comprehensive test coverage: 10+ tests for nested structure handling",
        "Updated docs/usage.md with nested structure handling documentation",
        "All 43 formatters tests pass, full CI passes"
      ],
      "request": "Audit the current list of features in the project and identify the next series of opportunities for improvement. Add 10-15 tasks based on your findings.",
      "created_at": "2026-01-21T19:44:00Z",
      "updated_at": "2026-01-24T07:24:45.898007000Z",
      "completed_at": "2026-01-24T07:24:45.898007000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0058",
      "status": "done",
      "title": "Fix CLI config loading to honor .env/env and skip_verify",
      "priority": "high",
      "tags": [
        "cli",
        "config",
        "env",
        "bug"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/config/src/loader.rs",
        "crates/cli/tests"
      ],
      "evidence": [
        "crates/cli/src/main.rs parses CLI args before calling ConfigLoader::load_dotenv, so .env values cannot populate clap env defaults.",
        "crates/cli/src/main.rs never calls ConfigLoader::from_env, leaving SPLUNK_TIMEOUT/SPLUNK_MAX_RETRIES unused.",
        "crates/cli/src/main.rs has `if cli.skip_verify { let _ = loader; }`, so the flag is ignored."
      ],
      "plan": [
        "Load dotenv before Cli::parse and then apply ConfigLoader::from_env so env-only fields are honored.",
        "Apply cli.skip_verify via ConfigLoader::with_skip_verify and keep CLI overrides highest priority.",
        "Add CLI integration tests that assert .env/env and skip_verify/timeout/max_retries are applied."
      ],
      "notes": [
        "Fixed .env loading before CLI parsing",
        "Added from_env() call for SPLUNK_TIMEOUT/SPLUNK_MAX_RETRIES",
        "Fixed skip_verify to properly apply via with_skip_verify()",
        "Added 12 integration tests for config loading",
        "All 393 CI tests pass, no regressions"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T16:13:50.387091000Z",
      "completed_at": "2026-01-24T16:13:50.387091000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0059",
      "status": "done",
      "title": "Ignore empty auth env values in ConfigLoader",
      "priority": "high",
      "tags": [
        "config",
        "auth",
        "bug"
      ],
      "scope": [
        "crates/config/src/loader.rs",
        ".env.example"
      ],
      "evidence": [
        "crates/config/src/loader.rs sets api_token from std::env::var without filtering empty strings.",
        ".env.example defines SPLUNK_API_TOKEN as empty, which becomes Some() and forces API token auth."
      ],
      "plan": [
        "Treat empty env values for SPLUNK_API_TOKEN/SPLUNK_USERNAME/SPLUNK_PASSWORD as None.",
        "Add unit tests that empty env vars do not override valid session auth.",
        "Update docs/examples if needed to reflect empty-value handling."
      ],
      "notes": [
        "Added env_var_or_none() helper to filter empty env vars for auth variables",
        "Empty SPLUNK_API_TOKEN now correctly allows session auth instead of forcing API token mode",
        "Added 3 comprehensive unit tests covering empty string filtering and whitespace edge case",
        "Updated .env.example with clarifying comment about empty value behavior",
        "Updated docs/usage.md with documentation of empty-value handling"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T17:05:34.428505000Z",
      "completed_at": "2026-01-24T17:05:34.428505000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0060",
      "status": "done",
      "title": "Force JSON output in auth login endpoint",
      "priority": "high",
      "tags": [
        "client",
        "auth",
        "bug"
      ],
      "scope": [
        "crates/client/src/endpoints/auth.rs",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/endpoints/auth.rs posts to /services/auth/login without output_mode but then parses response with response.json()."
      ],
      "plan": [
        "Include output_mode=json (query or form) or an Accept header on the login request.",
        "Update integration tests to assert JSON mode is requested and parsing succeeds.",
        "Run client integration tests to verify login behavior."
      ],
      "notes": [
        "Fixed auth.rs login endpoint to send output_mode=json via .query() builder method",
        "Fixed blast radius issue: create_job in search.rs now defaults output_mode to JSON when not specified",
        "Updated integration tests to assert output_mode=json is sent for all login endpoint tests (7 assertions added)",
        "All 258 CI tests pass"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T17:24:27.120467000Z",
      "completed_at": "2026-01-24T17:24:27.120467000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0061",
      "status": "done",
      "title": "Run config CLI integration tests in make test/ci",
      "priority": "high",
      "tags": [
        "build",
        "tests",
        "ci"
      ],
      "scope": [
        "Makefile",
        "crates/cli/tests/config_tests.rs"
      ],
      "evidence": [
        "Makefile test-integration omits cargo test -p splunk-cli --test config_tests even though crates/cli/tests/config_tests.rs exists."
      ],
      "plan": [
        "Add config_tests to test-integration (and thus make test/ci).",
        "Confirm make test runs the config tests locally.",
        "Update any docs mentioning test coverage if needed."
      ],
      "notes": [
        "Already completed - config_tests and config_loading_tests were added to test-integration target in commit ef4338e (RQ-0058)",
        "Verification: make test ran successfully - all 274 tests passed, including 15 config_tests and 12 config_loading_tests",
        "No code or documentation changes needed - tests are already part of CI pipeline via test-integration target"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T17:40:31.575756000Z",
      "completed_at": "2026-01-24T17:40:31.575756000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0062",
      "status": "done",
      "title": "Honor SPLUNK_CONFIG_PATH in TUI config loading",
      "priority": "medium",
      "tags": [
        "tui",
        "config",
        "bug"
      ],
      "scope": [
        "crates/tui/src/main.rs",
        "crates/config/src/persistence.rs"
      ],
      "evidence": [
        "crates/tui/src/main.rs uses ConfigLoader::new() and ConfigManager::new() with default paths only.",
        "crates/cli/src/commands/config.rs respects SPLUNK_CONFIG_PATH, so TUI and CLI can diverge."
      ],
      "plan": [
        "Check for SPLUNK_CONFIG_PATH in TUI load_config and ConfigManager initialization.",
        "Plumb the path into ConfigLoader::with_config_path and ConfigManager::new_with_path.",
        "Add tests (unit or integration) to ensure TUI uses the override path."
      ],
      "notes": [
        "Fixed empty string handling bug in SPLUNK_CONFIG_PATH",
        "TUI now correctly ignores empty SPLUNK_CONFIG_PATH values",
        "CLI config command also fixed to ignore empty paths",
        "Added comprehensive tests for config loading with SPLUNK_CONFIG_PATH",
        "Tests pass when run with --test-threads=1 due to env var sharing",
        "Updated docs/usage.md to clarify SPLUNK_CONFIG_PATH works for both CLI and TUI"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T18:23:40.043201000Z",
      "completed_at": "2026-01-24T18:23:40.043201000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0063",
      "status": "done",
      "title": "Normalize base_url to avoid double slashes",
      "priority": "medium",
      "tags": [
        "client",
        "config",
        "bug"
      ],
      "scope": [
        "crates/config/src/loader.rs",
        "crates/client/src/client.rs"
      ],
      "evidence": [
        "Multiple endpoints build URLs by concatenating base_url with /services/... (e.g., crates/client/src/endpoints/indexes.rs).",
        "ConfigLoader passes base_url through without trimming trailing slashes."
      ],
      "plan": [
        "Trim trailing '/' from base_url during config build or client builder.",
        "Add tests covering base_url with and without trailing slash.",
        "Verify no behavior regressions in existing client tests."
      ],
      "notes": [
        "Added normalize_base_url() helper to SplunkClientBuilder",
        "Applied normalization in build() method (line 89)",
        "Added 4 unit tests for normalization edge cases",
        "Added integration test verifying no double slashes in HTTP requests",
        "All 250+ tests pass with no regressions"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T18:33:57.066413000Z",
      "completed_at": "2026-01-24T18:33:57.066413000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0064",
      "status": "done",
      "title": "Validate mutually exclusive jobs flags",
      "priority": "medium",
      "tags": [
        "cli",
        "jobs",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/jobs.rs",
        "crates/cli/tests"
      ],
      "evidence": [
        "crates/cli/src/commands/jobs.rs accepts both cancel and delete; cancel wins and delete is ignored without error."
      ],
      "plan": [
        "Use clap ArgGroup or manual validation to enforce mutual exclusivity of --cancel/--delete/--list.",
        "Add CLI tests that conflicting flags return a clear error.",
        "Update docs/usage if help text changes."
      ],
      "notes": [
        "Added clap group='action' to --cancel and --delete for mutual exclusivity",
        "Added value_name='SID' for better help text",
        "Added 3 CLI tests: mutually exclusive cancel+delete, cancel+list, delete+list",
        "All 290+ CI tests pass (unit, integration, CLI, TUI, snapshot)",
        "No documentation update needed - docs/usage.md already shows <SID>"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T18:43:31.776649000Z",
      "completed_at": "2026-01-24T18:43:31.776649000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0065",
      "status": "done",
      "title": "Respect Retry-After header in retry helper",
      "priority": "medium",
      "tags": [
        "client",
        "http",
        "resilience"
      ],
      "scope": [
        "crates/client/src/endpoints/request.rs",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/endpoints/request.rs uses fixed exponential backoff and does not inspect Retry-After headers on 429 responses."
      ],
      "plan": [
        "Parse Retry-After header when present and use it as the sleep duration (or max of backoff and header).",
        "Add wiremock tests covering 429 with Retry-After and without.",
        "Ensure MaxRetriesExceeded accounting stays correct."
      ],
      "notes": [
        "Added parse_retry_after() function to parse delay-seconds format",
        "Retry logic now uses max(backoff, retry_after) for sleep duration",
        "Added 4 wiremock tests covering Retry-After scenarios",
        "Module docs updated to clarify only delay-seconds format is supported",
        "All 42 tests pass, CI passes"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T18:58:49.391830000Z",
      "completed_at": "2026-01-24T18:58:49.391830000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0066",
      "status": "done",
      "title": "Fix CLI log tail cursor to avoid dropping events",
      "priority": "medium",
      "tags": [
        "cli",
        "logs",
        "bug"
      ],
      "scope": [
        "crates/cli/src/commands/logs.rs",
        "crates/client/src/endpoints/logs.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/logs.rs sets last_seen_time to the first log and filters with '>' so same-timestamp events can be skipped.",
        "Tailing uses earliest=current_earliest without deterministic ordering, risking duplicates or gaps."
      ],
      "plan": [
        "Track the max timestamp (or _indextime) and include a secondary cursor to avoid drops.",
        "Update the query or sorting to return deterministic order before cursoring.",
        "Add unit tests for tail cursor logic with same-timestamp entries."
      ],
      "notes": [
        "Fixed CLI log tail cursor bug by implementing multi-field comparison (time, index_time, serial)",
        "Added deterministic sorting to logs query: sort -_time, -_indextime, -_serial",
        "Implemented LogCursor struct with proper is_after() comparison logic",
        "Added 7 unit tests, 1 integration test, and 2 model tests covering all edge cases",
        "Cursor updates to newest entry to prevent both drops and duplicates"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T19:19:04.555189000Z",
      "completed_at": "2026-01-24T19:19:04.555189000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0067",
      "status": "done",
      "title": "Improve TUI pagination when total is missing",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs sets search_has_more_results only when total.is_some(), so pagination stops if total is None.",
        "SearchJobResults.total is Option<u64> and can be missing in some Splunk responses."
      ],
      "plan": [
        "If total is None, infer has_more when the fetched page is full (count == page_size).",
        "Propagate page_size into pagination checks where needed.",
        "Add tests for pagination behavior with total None."
      ],
      "notes": [
        "Fixed pagination to infer has_more from page fullness when total=None",
        "Added 4 test cases covering total=None scenarios (partial/full pages)",
        "All 300+ CI tests pass with no regressions"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T19:29:47.134617000Z",
      "completed_at": "2026-01-24T19:29:47.134617000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0068",
      "status": "done",
      "title": "Expose CLI flags for timeout and max retries",
      "priority": "medium",
      "tags": [
        "cli",
        "config",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "docs/usage.md"
      ],
      "evidence": [
        "crates/cli/src/main.rs lacks CLI args for timeout/max_retries even though config types and .env support them."
      ],
      "plan": [
        "Add global CLI options for --timeout and --max-retries.",
        "Wire them into ConfigLoader overrides with correct precedence.",
        "Add CLI tests and update usage docs."
      ],
      "notes": [
        "Added --timeout and --max-retries CLI flags",
        "Flags wired into ConfigLoader with correct precedence",
        "Added 7 new integration tests covering CLI, env, and .env override behavior",
        "Fixed clap error message case sensitivity in existing tests",
        "Updated docs/usage.md with new global options"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T19:39:32.204992000Z",
      "completed_at": "2026-01-24T19:39:32.204992000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0069",
      "status": "done",
      "title": "Align live test script with build/install targets",
      "priority": "medium",
      "tags": [
        "scripts",
        "docs",
        "build"
      ],
      "scope": [
        "scripts/test-live-server.sh",
        "Makefile",
        "README.md"
      ],
      "evidence": [
        "scripts/test-live-server.sh instructs make install for splunk-cli, but Makefile install only runs cargo fetch.",
        "README.md shows make install for deps and make release for binaries, so the script guidance is inconsistent."
      ],
      "plan": [
        "Update script help/output to reference make build/release for binary install.",
        "Adjust README (if needed) to keep instructions consistent.",
        "Run a quick script dry-run to confirm messaging."
      ],
      "notes": [
        "Updated script help and error messages to reference make release/build instead of make install",
        "Enhanced error message with PATH configuration guidance (~/.local/bin)",
        "Verified consistency across README.md, Makefile, and script documentation",
        "CI passed: all 237 tests successful"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T19:45:08.841258000Z",
      "completed_at": "2026-01-24T19:45:08.841258000Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0070",
      "status": "rejected",
      "title": "Update usage docs for API token short flag",
      "priority": "low",
      "tags": [
        "docs",
        "cli"
      ],
      "scope": [
        "docs/usage.md",
        "crates/cli/src/main.rs"
      ],
      "evidence": [
        "docs/usage.md lists -t for api-token, but clap derives short -a from field name api_token in crates/cli/src/main.rs."
      ],
      "plan": [
        "Update docs/usage.md to reflect the actual short flag.",
        "Verify CLI --help output matches documentation.",
        "Check other docs for the same flag reference."
      ],
      "notes": [
        "Scan finding was incorrect - documentation already matches CLI implementation",
        "Global api-token uses -a (from 'api_token' field name in crates/cli/src/main.rs:33)",
        "Config set api-token uses -a (from 'api_token' field name in crates/cli/src/commands/config.rs:36)",
        "The -t flag belongs to --timeout-seconds, not --api-token (config.rs:44)",
        "All docs (usage.md lines 85, 179; README.md; user-guide.md) correctly show -a for api-token"
      ],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T19:52:15.111040000Z",
      "completed_at": "2026-01-24T19:52:15.111040000Z",
      "depends_on": [],
      "custom_fields": {}
    }
  ]
}