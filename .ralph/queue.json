{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0065",
      "status": "todo",
      "title": "Respect Retry-After header in retry helper",
      "priority": "medium",
      "tags": [
        "client",
        "http",
        "resilience"
      ],
      "scope": [
        "crates/client/src/endpoints/request.rs",
        "crates/client/tests/integration_tests.rs"
      ],
      "evidence": [
        "crates/client/src/endpoints/request.rs uses fixed exponential backoff and does not inspect Retry-After headers on 429 responses."
      ],
      "plan": [
        "Parse Retry-After header when present and use it as the sleep duration (or max of backoff and header).",
        "Add wiremock tests covering 429 with Retry-After and without.",
        "Ensure MaxRetriesExceeded accounting stays correct."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0066",
      "status": "todo",
      "title": "Fix CLI log tail cursor to avoid dropping events",
      "priority": "medium",
      "tags": [
        "cli",
        "logs",
        "bug"
      ],
      "scope": [
        "crates/cli/src/commands/logs.rs",
        "crates/client/src/endpoints/logs.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/logs.rs sets last_seen_time to the first log and filters with '>' so same-timestamp events can be skipped.",
        "Tailing uses earliest=current_earliest without deterministic ordering, risking duplicates or gaps."
      ],
      "plan": [
        "Track the max timestamp (or _indextime) and include a secondary cursor to avoid drops.",
        "Update the query or sorting to return deterministic order before cursoring.",
        "Add unit tests for tail cursor logic with same-timestamp entries."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0067",
      "status": "todo",
      "title": "Improve TUI pagination when total is missing",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/src/main.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs sets search_has_more_results only when total.is_some(), so pagination stops if total is None.",
        "SearchJobResults.total is Option<u64> and can be missing in some Splunk responses."
      ],
      "plan": [
        "If total is None, infer has_more when the fetched page is full (count == page_size).",
        "Propagate page_size into pagination checks where needed.",
        "Add tests for pagination behavior with total None."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0068",
      "status": "todo",
      "title": "Expose CLI flags for timeout and max retries",
      "priority": "medium",
      "tags": [
        "cli",
        "config",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "docs/usage.md"
      ],
      "evidence": [
        "crates/cli/src/main.rs lacks CLI args for timeout/max_retries even though config types and .env support them."
      ],
      "plan": [
        "Add global CLI options for --timeout and --max-retries.",
        "Wire them into ConfigLoader overrides with correct precedence.",
        "Add CLI tests and update usage docs."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0069",
      "status": "todo",
      "title": "Align live test script with build/install targets",
      "priority": "medium",
      "tags": [
        "scripts",
        "docs",
        "build"
      ],
      "scope": [
        "scripts/test-live-server.sh",
        "Makefile",
        "README.md"
      ],
      "evidence": [
        "scripts/test-live-server.sh instructs make install for splunk-cli, but Makefile install only runs cargo fetch.",
        "README.md shows make install for deps and make release for binaries, so the script guidance is inconsistent."
      ],
      "plan": [
        "Update script help/output to reference make build/release for binary install.",
        "Adjust README (if needed) to keep instructions consistent.",
        "Run a quick script dry-run to confirm messaging."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0070",
      "status": "todo",
      "title": "Update usage docs for API token short flag",
      "priority": "low",
      "tags": [
        "docs",
        "cli"
      ],
      "scope": [
        "docs/usage.md",
        "crates/cli/src/main.rs"
      ],
      "evidence": [
        "docs/usage.md lists -t for api-token, but clap derives short -a from field name api_token in crates/cli/src/main.rs."
      ],
      "plan": [
        "Update docs/usage.md to reflect the actual short flag.",
        "Verify CLI --help output matches documentation.",
        "Check other docs for the same flag reference."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0071",
      "status": "todo",
      "title": "Update user guide screen keybindings",
      "priority": "low",
      "tags": [
        "docs",
        "tui"
      ],
      "scope": [
        "docs/user-guide.md",
        "crates/tui/src/app.rs"
      ],
      "evidence": [
        "docs/user-guide.md lists only screens 1-5, while crates/tui/src/app.rs handles keys 1-9 for additional screens."
      ],
      "plan": [
        "Update the keybinding list and screen descriptions to include Saved Searches, Internal Logs, Apps, and Users.",
        "Cross-check with the TUI help popup for consistency.",
        "Proofread for any other outdated shortcuts."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0072",
      "status": "todo",
      "title": "Remove duplicate validation block in config set",
      "priority": "low",
      "tags": [
        "cli",
        "config",
        "cleanup"
      ],
      "scope": [
        "crates/cli/src/commands/config.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/config.rs contains the same password-required validation block twice in run_set."
      ],
      "plan": [
        "Remove the redundant validation block and keep a single source of truth.",
        "Ensure existing config_tests cover the error path.",
        "Run CLI tests for config command."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-24T12:36:07Z",
      "updated_at": "2026-01-24T12:36:07Z",
      "depends_on": [],
      "custom_fields": {}
    }
  ]
}