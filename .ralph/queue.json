{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0360",
      "status": "todo",
      "title": "Split oversized side_effects/mod.rs (523 lines) into submodules",
      "priority": "low",
      "tags": [
        "maintenance",
        "file-size",
        "tui"
      ],
      "scope": [
        "crates/tui/src/runtime/side_effects/mod.rs"
      ],
      "evidence": [
        "mod.rs is 523 lines - too large for a module file",
        "Contains Effect, EffectResult enums, handle_effect function, and multiple use statements",
        "Complexity shown by 55+ nested match patterns across input handlers"
      ],
      "plan": [
        "Extract Effect and EffectResult to side_effects/types.rs",
        "Extract handle_effect to side_effects/dispatcher.rs",
        "Keep mod.rs focused on module re-exports only",
        "Target: mod.rs under 100 lines after split",
        "Verify with `cargo check -p splunk-tui`"
      ],
      "notes": [],
      "request": "maintenance scan finding",
      "created_at": "2026-02-06T17:55:35Z",
      "updated_at": "2026-02-06T17:55:35Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0361",
      "status": "todo",
      "title": "Create macro for repetitive formatter trait implementations",
      "priority": "high",
      "tags": [
        "maintenance",
        "dry",
        "macro",
        "cli"
      ],
      "scope": [
        "crates/cli/src/formatters/csv/imp.rs",
        "crates/cli/src/formatters/table/imp.rs",
        "crates/cli/src/formatters/xml/mod.rs"
      ],
      "evidence": [
        "CsvFormatter, TableFormatter, XmlFormatter all have identical trait impl structure",
        "Each has 35+ methods that delegate to submodule functions (e.g., jobs::format_jobs)",
        "Pattern: `fn format_x(&self, ...) -> Result<String> { x::format_x(...) }` repeated 35 times per formatter"
      ],
      "plan": [
        "Create `impl_formatter!` macro that generates trait impl from a map of method->module",
        "Example: impl_formatter!(CsvFormatter, { jobs => jobs, logs => logs, ... })",
        "Apply macro to all three formatters, reducing ~300 lines of boilerplate to ~30",
        "Ensure macro preserves documentation comments",
        "Verify with `make test -p splunk-cli`"
      ],
      "notes": [],
      "request": "maintenance scan finding",
      "created_at": "2026-02-06T17:55:35Z",
      "updated_at": "2026-02-06T17:55:35Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0362",
      "status": "todo",
      "title": "Unify error message formatting style across CLI",
      "priority": "low",
      "tags": [
        "maintenance",
        "consistency",
        "ux",
        "cli"
      ],
      "scope": [
        "crates/cli/src/commands/*.rs"
      ],
      "evidence": [
        "Mixed error styles found: 'Failed to X', 'Could not X', 'Error: X', 'X failed'",
        "Some use anyhow::bail! with format strings, others use eprintln + return Err",
        "Inconsistent capitalization: some lowercase, some Title Case",
        "Context chaining inconsistent: some use .with_context(), others inline format"
      ],
      "plan": [
        "Define error style guide: lowercase start, action-oriented ('failed to...'), use with_context()",
        "Document style in AGENTS.md or STYLE.md",
        "Audit all error messages in commands/ for consistency",
        "Refactor to use consistent anyhow::Context pattern",
        "Add clippy lint for error message format if possible",
        "Verify with `make ci`"
      ],
      "notes": [],
      "request": "maintenance scan finding",
      "created_at": "2026-02-06T17:55:35Z",
      "updated_at": "2026-02-06T17:55:35Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    }
  ]
}