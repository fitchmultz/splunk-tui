{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0465",
      "status": "todo",
      "title": "Fix transaction rollback errors being silently discarded",
      "description": "Transaction rollback operations in `transaction.rs` silently discard all errors using `let _ =`. When rollback fails (network error, permission denied), the error is completely lost, leaving the system in an inconsistent state with no audit trail. This violates the Fail Fast principle and creates data integrity risks.",
      "priority": "critical",
      "tags": [
        "maintenance",
        "reliability",
        "data-integrity",
        "error-handling"
      ],
      "scope": [
        "crates/client/src/transaction.rs",
        "crates/client/src/error.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/transaction.rs :: rollback() :: lines 349-362 use `let _ =` for all delete operations",
        "path: crates/client/src/transaction.rs :: lines 349, 352, 355, 358, 361 discard errors from delete_index, delete_user, delete_role, delete_macro, delete_saved_search",
        "principle: Fail Fast - errors swallowed silently, no audit trail of rollback failures"
      ],
      "plan": [
        "Change rollback() to collect all rollback errors instead of discarding with `let _ =`",
        "Create a TransactionRollbackError type that contains Vec<(String, ClientError)> for failed operations",
        "Log rollback failures at error level with full context",
        "Add test verifying rollback errors are properly captured and reported",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming new rollback error tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0466",
      "status": "todo",
      "title": "Fix silent plaintext credential fallback when keyring fails",
      "description": "When keyring storage fails in `try_store_password_in_keyring` and `try_store_token_in_keyring`, the system silently falls back to plaintext storage with only a warning log. This is a security concern - credentials may be stored in plaintext without operator awareness. There is no mechanism to force keyring-only storage or fail hard.",
      "priority": "critical",
      "tags": [
        "maintenance",
        "security",
        "credentials",
        "fail-fast"
      ],
      "scope": [
        "crates/config/src/persistence/profiles.rs",
        "crates/config/src/types/auth.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/config/src/persistence/profiles.rs :: try_store_password_in_keyring() :: lines 309-325 silently falls back to plaintext",
        "path: crates/config/src/persistence/profiles.rs :: try_store_token_in_keyring() :: lines 332-347 silently falls back to plaintext",
        "principle: Security baseline - silent fallback to less secure storage violates least astonishment"
      ],
      "plan": [
        "Add configuration option to force keyring-only storage (fail on keyring error)",
        "Change default behavior to fail hard when keyring storage is requested but fails",
        "Add explicit opt-in for plaintext fallback with clear warning",
        "Update tests to verify secure-by-default behavior",
        "Document the credential storage security model",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming credential storage tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0467",
      "status": "todo",
      "title": "Fix URL path construction without proper percent-encoding",
      "description": "URL construction in multiple endpoint files uses string formatting without percent-encoding. The `user_name` is interpolated directly into the URL path without encoding. Special characters in usernames (like `/`, `%`, or Unicode) could cause path traversal or incorrect URL resolution.",
      "priority": "high",
      "tags": [
        "maintenance",
        "security",
        "injection",
        "url-encoding"
      ],
      "scope": [
        "crates/client/src/endpoints/users.rs",
        "crates/client/src/endpoints/roles.rs",
        "crates/client/src/endpoints/indexes.rs",
        "crates/client/src/endpoints/kvstore.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/endpoints/users.rs :: lines 135-138 uses format!(\"/services/authentication/users/{user_name}\")",
        "path: crates/client/src/endpoints/roles.rs :: lines 135-137 similar pattern for role names",
        "path: crates/client/src/endpoints/indexes.rs :: lines 71-73 similar pattern for index names",
        "principle: Security baseline - injection risk via unencoded URL path segments"
      ],
      "plan": [
        "Create a helper function `encode_path_segment()` for percent-encoding path components",
        "Audit all endpoint files for URL construction using string interpolation",
        "Replace all direct string interpolation with encoded path construction",
        "Add tests with special characters (/, %, unicode, spaces) in names",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming URL encoding tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0468",
      "status": "todo",
      "title": "Fix missing boundary validation for configuration values",
      "description": "Configuration types allow invalid states to be represented. ProfileConfig fields have no length/format validation - empty strings, zero timeouts, u64::MAX values are all accepted. This violates 'make bugs hard to write' principle and can cause runtime failures or unexpected behavior.",
      "priority": "high",
      "tags": [
        "maintenance",
        "validation",
        "boundary-checks",
        "type-safety"
      ],
      "scope": [
        "crates/config/src/types/profile.rs",
        "crates/config/src/types/connection.rs",
        "crates/config/src/loader/builder.rs",
        "crates/cli/src/args.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/config/src/types/profile.rs :: lines 20-47 - all fields optional with no validation",
        "path: crates/config/src/types/connection.rs :: lines 52-100 - no validation of timeout ranges or relationships",
        "path: crates/cli/src/args.rs :: lines 46-119 - no constraints on numeric args like --timeout, --max-retries",
        "principle: Make bugs hard to write - illegal states are representable"
      ],
      "plan": [
        "Add newtype wrappers for validated values (NonEmptyString, ValidatedUrl, PositiveU64)",
        "Add range validation for timeout_seconds, max_retries, session_ttl",
        "Validate URL format at deserialization time, not just at build()",
        "Add validation at CLI argument parsing with clap value validators",
        "Add tests verifying invalid values are rejected at boundaries",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming validation tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0469",
      "status": "todo",
      "title": "Fix JSON parsing errors being silently dropped in log endpoints",
      "description": "JSON deserialization errors in log and parsing endpoints are silently filtered out with `.ok()`. If the API returns malformed log entries or parsing errors, they are simply dropped without any indication that data was lost. This violates the Fail Fast principle and creates data integrity issues.",
      "priority": "high",
      "tags": [
        "maintenance",
        "data-integrity",
        "error-handling",
        "fail-fast"
      ],
      "scope": [
        "crates/client/src/endpoints/logs.rs",
        "crates/client/src/endpoints/parsing.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/endpoints/logs.rs :: line 69 uses filter_map(|v| serde_json::from_value(v).ok())",
        "path: crates/client/src/endpoints/parsing.rs :: line 107 uses filter_map(|v| serde_json::from_value(v).ok())",
        "principle: Fail Fast - data loss is silent, no indication of parsing failures"
      ],
      "plan": [
        "Change from silent filtering to explicit error handling",
        "Add option to return partial results with error summary",
        "Log parsing failures at warn level with entry context",
        "Add metrics counter for deserialization failures",
        "Add tests verifying parsing errors are reported not dropped",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming error handling tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0470",
      "status": "todo",
      "title": "Fix documentation-code mismatches in CLI defaults and flags",
      "description": "Multiple documentation-code mismatches exist: forwarders default count is 100 in code but documented as 30; SHC members default is 100 in code but documented as 50; jobs command documentation says flat flags are used but subcommands exist; SPLUNK_HEALTH_CHECK_INTERVAL is TUI-only but documented as general. These inconsistencies confuse users and violate least astonishment.",
      "priority": "high",
      "tags": [
        "maintenance",
        "docs",
        "consistency",
        "cli"
      ],
      "scope": [
        "docs/usage.md",
        "README.md",
        "crates/cli/src/args.rs",
        "crates/config/src/constants.rs",
        "make lint-docs",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: docs/usage.md :: line 702 - forwarders default 30, but code uses DEFAULT_LIST_PAGE_SIZE=100",
        "path: docs/usage.md :: line 773 - SHC members default 50, but code uses DEFAULT_LIST_PAGE_SIZE=100",
        "path: docs/usage.md :: line 789 - says jobs uses flat flags, but subcommands exist in code",
        "path: docs/usage.md :: line 82 - SPLUNK_HEALTH_CHECK_INTERVAL presented as general config but is TUI-only",
        "principle: Consistency/Integrity - documentation-code mismatch"
      ],
      "plan": [
        "Audit all default values in docs against code constants",
        "Update forwarders documentation to show default 100",
        "Update SHC members documentation to show default 100",
        "Update jobs command documentation to reflect subcommand structure",
        "Clarify TUI-only environment variables in documentation",
        "Add CI check to validate documented defaults match code defaults",
        "Verify by running `make lint-docs && make ci SKIP_LIVE_TESTS=1`"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0471",
      "status": "todo",
      "title": "Remove or utilize dead code flagged with #[allow(dead_code)]",
      "description": "Multiple functions and types are marked with #[allow(dead_code)] indicating they are unused: SIGINT_EXIT_CODE constant, ExitCode::Interrupted variant, is_retryable() method, cache helper functions, completer new() constructors, len() method in keybinding overrides. This is YAGNI violation and creates maintenance burden.",
      "priority": "medium",
      "tags": [
        "maintenance",
        "yagni",
        "dead-code",
        "cleanup"
      ],
      "scope": [
        "crates/cli/src/cancellation.rs",
        "crates/cli/src/error.rs",
        "crates/client/src/endpoints/request.rs",
        "crates/cli/src/dynamic_complete.rs",
        "crates/tui/src/input/keymap/overrides.rs",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/cli/src/cancellation.rs :: line 29 - SIGINT_EXIT_CODE #[allow(dead_code)]",
        "path: crates/cli/src/error.rs :: lines 69, 85 - Interrupted variant and is_retryable() #[allow(dead_code)]",
        "path: crates/client/src/endpoints/request.rs :: lines 490-604 - cache helper functions #[allow(dead_code)]",
        "path: crates/cli/src/dynamic_complete.rs :: lines 36, 108, 114, 143, 179, 215, 251 - completer methods #[allow(dead_code)]",
        "principle: YAGNI - dead code creates maintenance burden"
      ],
      "plan": [
        "Remove dead code that has no callers after 30+ days",
        "For intentionally kept code, document why it's preserved with TODO/issue reference",
        "For speculative infrastructure, either implement usage or remove",
        "Add CI check preventing new #[allow(dead_code)] without justification comment",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming no regressions"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0472",
      "status": "todo",
      "title": "Consolidate duplicated size formatting logic between CLI and TUI",
      "description": "Human-readable size formatting logic is duplicated between CLI and TUI crates with slightly different implementations. The UNITS constant and formatting logic should be in the shared client crate to ensure consistency and reduce maintenance burden.",
      "priority": "medium",
      "tags": [
        "maintenance",
        "dry",
        "refactor",
        "code-quality"
      ],
      "scope": [
        "crates/tui/src/ui/screens/lookups.rs",
        "crates/cli/src/formatters/table/lookups.rs",
        "crates/client/src/lib.rs",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/tui/src/ui/screens/lookups.rs :: lines 117-126 - humanize_size() function",
        "path: crates/cli/src/formatters/table/lookups.rs :: lines 38-50 - format_size() function",
        "principle: DRY - same logic duplicated across presentation layers"
      ],
      "plan": [
        "Extract size formatting to shared utility in client crate",
        "Replace both implementations with calls to shared utility",
        "Ensure both implementations produce identical output",
        "Add unit tests for the shared utility",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming no output changes"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0473",
      "status": "todo",
      "title": "Add structured error context for token refresh failures in singleflight pattern",
      "description": "When concurrent callers are waiting for token refresh and the leader fails, followers get a generic 'Token refresh failed' message without the original error context. This makes debugging authentication issues difficult in concurrent scenarios.",
      "priority": "medium",
      "tags": [
        "maintenance",
        "observability",
        "error-handling",
        "auth"
      ],
      "scope": [
        "crates/client/src/auth.rs",
        "crates/client/src/error.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/auth.rs :: lines 260-264 - returns generic 'Token refresh failed' without original error",
        "principle: Operational hygiene - poor error messages make debugging difficult"
      ],
      "plan": [
        "Propagate original error context through singleflight pattern",
        "Add structured error type for token refresh failures with cause chain",
        "Include username and auth method in error context for debugging",
        "Add test verifying error context is preserved through concurrent refresh",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming auth tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0474",
      "status": "todo",
      "title": "Fix timeout handling that loses original error context",
      "description": "When a timeout occurs in overview_fetch.rs, the original error from the client is lost and replaced with a generic timeout error. This makes debugging difficult because the underlying cause (network issue, server error, etc.) is obscured.",
      "priority": "medium",
      "tags": [
        "maintenance",
        "observability",
        "error-handling",
        "debugging"
      ],
      "scope": [
        "crates/tui/src/runtime/side_effects/overview_fetch.rs",
        "crates/client/src/error.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/tui/src/runtime/side_effects/overview_fetch.rs :: lines 46, 62, 78, 99, 135, 151, 167, 199, 215 - Err(_) => Err(ClientError::Timeout(FETCH_TIMEOUT))",
        "principle: Operational hygiene - original error context lost on timeout"
      ],
      "plan": [
        "Capture original error before timeout conversion",
        "Create TimeoutError type that wraps the underlying error",
        "Update error display to show both timeout and underlying cause",
        "Add test verifying error chain is preserved",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming error handling tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0475",
      "status": "todo",
      "title": "Fix numeric parsing errors silently converted to None in index settings",
      "description": "Numeric parsing errors for index settings (max_hot_buckets) are silently converted to None with `.ok()`. If the API returns an unexpected format, the error is lost and the field appears unset, masking potential API version mismatches.",
      "priority": "medium",
      "tags": [
        "maintenance",
        "error-handling",
        "data-integrity",
        "fail-fast"
      ],
      "scope": [
        "crates/tui/src/app/popups/confirm.rs",
        "crates/tui/src/app/input/indexes.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/tui/src/app/popups/confirm.rs :: line 223 - max_hot_buckets uses and_then(|s| s.parse().ok())",
        "path: crates/tui/src/app/input/indexes.rs :: lines 98, 109 - similar parse().ok() patterns",
        "principle: Fail Fast - parse errors silently ignored"
      ],
      "plan": [
        "Replace silent .ok() with explicit error handling",
        "Log parsing failures at appropriate level",
        "Consider propagating parse errors to UI for visibility",
        "Add tests verifying parse errors are handled not ignored",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming index handling tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0476",
      "status": "todo",
      "title": "Consolidate duplicated metric constants between metrics.rs and cache.rs",
      "description": "Metric name constants (METRIC_CACHE_HITS, METRIC_CACHE_MISSES) are defined in both metrics.rs and cache.rs. This duplication risks inconsistency if one is changed but not the other.",
      "priority": "low",
      "tags": [
        "maintenance",
        "dry",
        "metrics",
        "cleanup"
      ],
      "scope": [
        "crates/client/src/metrics.rs",
        "crates/client/src/client/cache.rs",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/metrics.rs :: lines 34-37 - defines METRIC_CACHE_HITS, METRIC_CACHE_MISSES",
        "path: crates/client/src/client/cache.rs :: lines 50-53 - defines same constants",
        "principle: DRY - metric names defined in two places"
      ],
      "plan": [
        "Remove duplicate definitions from cache.rs",
        "Import constants from metrics.rs in cache.rs",
        "Verify no other duplicated constants exist",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming metrics tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0477",
      "status": "todo",
      "title": "Fix fragile string-based error classification in retry logic",
      "description": "Error classification for retryable transport errors uses string matching on error messages. If reqwest changes error message formatting, retry logic may fail silently. Additionally, errors not matching patterns are not classified, potentially causing unnecessary retries or premature failures.",
      "priority": "low",
      "tags": [
        "maintenance",
        "reliability",
        "error-handling",
        "robustness"
      ],
      "scope": [
        "crates/client/src/endpoints/request.rs",
        "crates/cli/src/commands/list_all/fetchers.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/endpoints/request.rs :: lines 98-111 - string matching on error.to_string()",
        "path: crates/cli/src/commands/list_all/fetchers.rs :: lines 204-210 - substring matching for cluster errors",
        "principle: Fail Fast - fragile string-based classification may misclassify"
      ],
      "plan": [
        "Research reqwest's structured error types for more robust classification",
        "Add fallback classification for unrecognized error types",
        "Add test with various error message formats to ensure robustness",
        "Document the classification strategy and risks",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming retry tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0478",
      "status": "todo",
      "title": "Add TLS warning when skip_verify is enabled for HTTPS URLs",
      "description": "When skip_verify is true, the code only logs a warning for HTTP URLs (where it has no effect). For HTTPS URLs with danger_accept_invalid_certs(true), there is no warning logged. An operator may not realize their connection is insecure.",
      "priority": "low",
      "tags": [
        "maintenance",
        "security",
        "tls",
        "observability"
      ],
      "scope": [
        "crates/client/src/client/builder.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/client/builder.rs :: lines 352-362 - warns for HTTP but not for HTTPS with skip_verify",
        "principle: Security baseline - unsafe defaults should warn operators"
      ],
      "plan": [
        "Add warning log when skip_verify is enabled for HTTPS URLs",
        "Include the target host in the warning for clarity",
        "Consider adding a confirmation prompt in interactive mode",
        "Add test verifying warning is emitted",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming builder tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0479",
      "status": "todo",
      "title": "Fix session expiry error showing 'unknown' username instead of actual username",
      "description": "When a session expires, the error message shows 'unknown' as the username even when the client knows the username from the auth strategy. This is confusing for operators with multiple accounts.",
      "priority": "low",
      "tags": [
        "maintenance",
        "ux",
        "error-messages",
        "observability"
      ],
      "scope": [
        "crates/client/src/error.rs",
        "crates/client/src/auth.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "path: crates/client/src/error.rs :: lines 546-555 - hardcoded 'unknown' username in SessionExpired error",
        "principle: Operational hygiene - poor error messages hinder debugging"
      ],
      "plan": [
        "Pass actual username to SessionExpired error construction",
        "Update error classification to extract username from auth context",
        "Add test verifying username is present in session expiry errors",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming error tests pass"
      ],
      "notes": [],
      "request": "scan: maintenance",
      "created_at": "2026-02-11T00:00:00Z",
      "updated_at": "2026-02-11T00:00:00Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-maintenance"
      }
    },
    {
      "id": "RQ-0456",
      "status": "todo",
      "title": "Generate tutorial and docs from keymap to eliminate guidance drift",
      "description": "Opportunity type: UX improvement + modernization. Why it matters: onboarding currently teaches keys that do not match runtime behavior, which immediately erodes trust and slows adoption. Proposed approach (minimal slice): replace hard-coded tutorial keybinding prose with generated strings sourced from the same keymap/help catalog used by runtime and docs generation. Incremental path: ship global navigation section first, then migrate per-screen tutorial/help snippets and docs references. Risks/mitigations: generated text can become verbose; mitigate with curated label aliases and snapshot tests. Acceptance criteria: tutorial, help popup, and docs show the same effective keybindings (including overrides) with zero contradictory instructions.",
      "priority": "high",
      "tags": [
        "innovation",
        "tui",
        "ux",
        "docs",
        "modernization"
      ],
      "scope": [
        "crates/tui/src/onboarding/steps.rs",
        "crates/tui/src/input/keymap/mod.rs",
        "crates/tui/src/input/help.rs",
        "crates/tui/src/input/docs.rs",
        "docs/usage.md",
        "docs/user-guide.md",
        "README.md",
        "make generate",
        "make lint-docs",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/onboarding/steps.rs:148-151 states screen navigation as \"←/→ or h/l\" and Tab as element cycling",
        "crates/tui/src/input/keymap/bindings/global_search.rs:72-119 defines Tab/Shift+Tab for screen navigation and Ctrl+Tab for focus navigation",
        "crates/tui/src/ui/screens/settings.rs:200-204 advertises tutorial replay with '?' but settings keybinding docs omit it (README.md:492-503, docs/usage.md:1607-1617, docs/user-guide.md:412-422)",
        "crates/tui/src/input/docs.rs:54-60 already provides generated docs path, but tutorial prose is still hard-coded separately"
      ],
      "plan": [
        "Create a tutorial-keybinding rendering helper backed by keymap metadata and effective override labels",
        "Replace hard-coded navigation text in onboarding steps with generated snippets",
        "Regenerate docs sections and add drift tests that compare tutorial/help/docs keybinding claims",
        "Update settings/help docs to include tutorial replay behavior",
        "Add regression snapshots for tutorial content across default and overridden keymaps",
        "Verify by running `make generate && make lint-docs && make ci SKIP_LIVE_TESTS=1` and confirming no keybinding drift failures"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0457",
      "status": "todo",
      "title": "Add explicit navigation state model and always-visible mode cues",
      "description": "Opportunity type: UX improvement. Why it matters: users cannot predict whether Tab changes screen or focus, causing accidental context switches and reduced task throughput. Proposed approach (minimal slice): add explicit mode badges (screen cycle mode vs local focus mode), current-screen breadcrumb, and dynamic footer hints that reflect the active mode and next action outcome. Incremental path: ship search-mode cueing first, then extend to all screens with focusable components. Risks/mitigations: footer crowding in narrow terminals; mitigate with responsive hint prioritization and truncation tests. Acceptance criteria: users can always infer what Tab/Shift+Tab/Esc will do from on-screen cues without opening help.",
      "priority": "high",
      "tags": [
        "innovation",
        "tui",
        "ux",
        "navigation"
      ],
      "scope": [
        "crates/tui/src/app/render.rs",
        "crates/tui/src/input/keymap/mod.rs",
        "crates/tui/src/app/input/search.rs",
        "crates/tui/tests/snapshot_footer_tests.rs",
        "crates/tui/tests/app_navigation_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/app/input/search.rs:81-93 intercepts Tab in QueryFocused mode instead of screen navigation",
        "crates/tui/src/app/render.rs:792-820 contains special-case footer logic for Search mode, indicating implicit hidden behavior",
        "crates/tui/src/input/keymap/mod.rs:319-321 notes footer hints do not distinguish QueryFocused vs ResultsFocused behavior",
        "crates/tui/tests/app_navigation_tests.rs:203-225 verifies divergent Tab behavior on Search screen"
      ],
      "plan": [
        "Define explicit navigation state primitives exposed to rendering (active mode, Tab behavior, fallback key)",
        "Render compact mode indicator and breadcrumb in header/footer with per-mode key outcomes",
        "Update keybinding hint selection to be mode-aware and terminal-width aware",
        "Add snapshot coverage for narrow/wide layouts and all search focus modes",
        "Update docs/user-guide.md navigation basics with the new explicit mode model",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming navigation snapshots and tests pass for each mode"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0458",
      "status": "todo",
      "title": "Make screen cycling deterministic by decoupling Search focus toggle from Tab",
      "description": "Opportunity type: UX improvement + strategic refactor. Why it matters: overloading Tab for both global navigation and local Search focus switching is the highest recurring navigation confusion source. Proposed approach (minimal slice): introduce a dedicated Search focus-toggle shortcut (and footer cue), then make Tab/Shift+Tab consistently switch screens across all contexts. Incremental path: first support both bindings with deprecation hint, then remove Tab focus toggle after migration window. Risks/mitigations: user muscle-memory disruption; mitigate via inline migration notice, docs updates, and keybind override compatibility. Acceptance criteria: Tab always changes screen, Search focus toggles via explicit key, and help/tutorial/docs reflect the same behavior.",
      "priority": "high",
      "tags": [
        "innovation",
        "tui",
        "navigation",
        "refactor",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app/input/search.rs",
        "crates/tui/src/input/keymap/bindings/global_search.rs",
        "crates/tui/src/input/keymap/mod.rs",
        "crates/tui/tests/app_navigation_tests.rs",
        "crates/tui/tests/app_input_tests.rs",
        "docs/usage.md",
        "docs/user-guide.md",
        "README.md",
        "make generate",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/tests/app_navigation_tests.rs:255-266 documents Tab behavior diverging on Search in QueryFocused mode",
        "README.md:294-296 and docs/user-guide.md:214-216 explain special Search Tab behavior, increasing cognitive branch cost",
        "crates/tui/src/input/keymap/bindings/global_search.rs:72-95 declares Tab as global screen navigation while Search input overrides it",
        "crates/tui/src/app/input/search.rs:81-93 consumes Tab for focus switch in QueryFocused mode"
      ],
      "plan": [
        "Add a dedicated Search focus toggle keybinding and expose it in keymap/help/docs",
        "Change Search QueryFocused input handling so Tab/Shift+Tab dispatch screen navigation actions",
        "Provide transition messaging (toast/help note) and maintain override support during migration",
        "Update navigation and input regression tests plus snapshots for new deterministic Tab semantics",
        "Regenerate keybinding docs and onboarding references",
        "Verify by running `make generate && make ci SKIP_LIVE_TESTS=1` and confirming Tab consistently navigates screens in all tests"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0459",
      "status": "todo",
      "title": "Implement in-TUI profile creation/edit flow",
      "description": "Opportunity type: feature gap. Why it matters: onboarding currently instructs users to create profiles in-TUI but no creation path exists, forcing context switch to CLI and causing setup failure for new users. Proposed approach (minimal slice): add profile create/edit popup forms in Settings with validation for base URL and auth method, writing to the same profile store. Incremental path: create-only first, then edit/delete and optional secure field masking enhancements. Risks/mitigations: config corruption risk mitigated with transactional writes and rollback on validation failure. Acceptance criteria: a first-time user can create a profile, authenticate, and enter core screens without leaving TUI.",
      "priority": "high",
      "tags": [
        "innovation",
        "tui",
        "feature-gap",
        "profiles",
        "onboarding"
      ],
      "scope": [
        "crates/tui/src/app/input/settings.rs",
        "crates/tui/src/ui/screens/settings.rs",
        "crates/tui/src/app/popups/profile.rs",
        "crates/tui/src/runtime/side_effects/profiles.rs",
        "crates/config/src/profiles.rs",
        "crates/tui/tests/profile_switch_tests.rs",
        "crates/tui/tests/tutorial_app_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/onboarding/steps.rs:78-91 tells users to press 'p' to create a profile",
        "crates/tui/src/runtime/side_effects/profiles.rs:36-55 shows toast \"No profiles configured. Add profiles using splunk-cli.\"",
        "crates/tui/src/ui/screens/settings.rs:191-199 mentions profile editing but no profile creation UI is presented",
        "crates/tui/src/app/input/settings.rs:74-97 handles editing current profile fields only"
      ],
      "plan": [
        "Add profile create/edit popup models with field validation and auth-mode selection",
        "Persist profile changes through centralized config/profile APIs with atomic save semantics",
        "Wire onboarding and settings actions to open profile create flow when none exist",
        "Add integration tests for create/edit success and failure validation paths",
        "Update onboarding/tutorial copy and user-guide profile section to document the new flow",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming profile workflow tests pass with no CLI dependency"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0460",
      "status": "todo",
      "title": "Add real connection diagnostic action to onboarding and settings",
      "description": "Opportunity type: feature gap + reliability. Why it matters: tutorial asks users to test connection but there is no executable connection-test action, leaving users unable to validate fixes quickly. Proposed approach (minimal slice): implement a non-destructive connection diagnostics action (auth check + TLS reachability + Splunk version endpoint) accessible from tutorial and settings. Incremental path: start with one-shot diagnostics, then add persistent report export/copy. Risks/mitigations: noisy retries can mask failures; mitigate with single controlled probe and clear pass/fail breakdown. Acceptance criteria: users can run a connection test from inside TUI and receive actionable pass/fail diagnostics.",
      "priority": "high",
      "tags": [
        "innovation",
        "tui",
        "feature-gap",
        "reliability",
        "onboarding"
      ],
      "scope": [
        "crates/tui/src/app/popups/tutorial.rs",
        "crates/tui/src/onboarding/steps.rs",
        "crates/tui/src/app/input/settings.rs",
        "crates/tui/src/runtime/side_effects/health.rs",
        "crates/tui/src/runtime/side_effects/profiles.rs",
        "crates/tui/tests/tutorial_app_tests.rs",
        "crates/tui/tests/side_effects_connection_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/onboarding/steps.rs:94-115 includes a Connection Test tutorial step",
        "crates/tui/src/app/popups/tutorial.rs:48-52 marks ConnectionTest as display-only and returns no side effect action",
        "crates/tui/src/main.rs:324-360 already has health polling infrastructure that can back a diagnostics command",
        "docs/user-guide.md:572-596 provides troubleshooting guidance but no in-app test flow"
      ],
      "plan": [
        "Define a `RunConnectionDiagnostics` action and side effect returning structured checks (reachability, auth, TLS, endpoint metadata)",
        "Bind diagnostics trigger in tutorial connection step and settings screen",
        "Render diagnostic result panel with remediation hints and copy-to-clipboard summary",
        "Add side-effect and popup regression tests for success/failure branches",
        "Document the diagnostics workflow in README.md and docs/user-guide.md",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming diagnostics tests pass with visible structured outcomes"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0461",
      "status": "todo",
      "title": "Add progressive onboarding checklist with session-aware hints",
      "description": "Opportunity type: UX improvement. Why it matters: one-time tutorial is easy to skip/forget and does not adapt to user progress, leaving new users without guardrails. Proposed approach (minimal slice): add a dismissible checklist widget for first N sessions (profile ready, connection verified, first search run, first navigation cycle, help opened) with contextual nudges. Incremental path: start with static checklist + completion persistence, then add behavior-triggered hints and opt-out controls. Risks/mitigations: hint fatigue; mitigate via strict rate limiting and per-item dismissal. Acceptance criteria: first-time users receive contextual cues until critical setup tasks are completed, then checklist auto-hides.",
      "priority": "medium",
      "tags": [
        "innovation",
        "tui",
        "onboarding",
        "ux"
      ],
      "scope": [
        "crates/tui/src/onboarding/state.rs",
        "crates/tui/src/app/render.rs",
        "crates/tui/src/app/state.rs",
        "crates/tui/src/app/actions/tutorial.rs",
        "crates/tui/tests/tutorial_app_tests.rs",
        "crates/tui/tests/snapshot_screens_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/onboarding/state.rs and crates/tui/src/onboarding/tests/mod.rs focus on linear tutorial state but not ongoing contextual coaching",
        "crates/tui/src/main.rs:260-322 only gates a first-run popup decision and does not support multi-session progressive guidance",
        "crates/tui/src/ui/screens/settings.rs:200-204 exposes manual tutorial replay, implying discoverability gap after initial run",
        "crates/tui/tests/tutorial_app_tests.rs covers popup flow but not persistent onboarding progress UI"
      ],
      "plan": [
        "Define checklist milestone model persisted in app state and tied to observable user actions",
        "Render compact onboarding checklist in key screens for users below completion threshold",
        "Add rate-limited contextual hint toasts tied to unresolved milestones",
        "Add tests for milestone progression, persistence, dismissal, and auto-hide behavior",
        "Document checklist behavior and how to disable/replay onboarding",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming checklist state transitions and snapshots pass"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0462",
      "status": "todo",
      "title": "Redesign help popup into contextual task-oriented command guide",
      "description": "Opportunity type: UX improvement. Why it matters: current help is a long static key list, which increases cognitive load and slows task completion during incident handling. Proposed approach (minimal slice): add contextual help sections prioritized by current screen and mode (top tasks first, secondary keys collapsed), with quick filter and override-aware key labels. Incremental path: ship mode-aware prioritized sections first, then add search/filter and jump-to-action hooks. Risks/mitigations: feature sprawl; mitigate by reusing existing keymap metadata and keeping initial UI read-only. Acceptance criteria: help opens with top 5 relevant actions for current context and users can find critical actions in under one page of content.",
      "priority": "medium",
      "tags": [
        "innovation",
        "tui",
        "ux",
        "help"
      ],
      "scope": [
        "crates/tui/src/input/help.rs",
        "crates/tui/src/input/keymap/mod.rs",
        "crates/tui/src/ui/popup/render.rs",
        "crates/tui/src/app/popups/mod.rs",
        "crates/tui/tests/snapshot_popups_tests.rs",
        "crates/tui/tests/keybind_override_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/input/help.rs:17-45 renders a full catalog-like list without context prioritization",
        "crates/tui/src/ui/popup/render.rs:109-147 provides generic scrollable text help, implying manual scanning burden",
        "crates/tui/tests/app_popup_tests.rs:168-229 validates open/close behavior but not contextual relevance",
        "crates/tui/src/input/keymap/mod.rs:315-321 already computes prioritized footer hints that can seed contextual help ordering"
      ],
      "plan": [
        "Refactor help generation to produce screen/mode-specific prioritized sections",
        "Render concise task-oriented help layout with collapsed secondary bindings",
        "Integrate effective override labels so displayed keys match user customizations",
        "Add popup snapshots for multiple screens/modes and key override scenarios",
        "Update docs/user-guide.md help section with new contextual behavior",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming help snapshots/tests pass with context-specific ordering"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0463",
      "status": "todo",
      "title": "Instrument UX telemetry for auth recovery and navigation friction",
      "description": "Opportunity type: reliability + performance/cost insight. Why it matters: without UX telemetry, improvements cannot be prioritized by real friction points and regressions remain invisible. Proposed approach (minimal slice): add privacy-safe counters/histograms for auth failure classes, recovery-action success, help opens by screen/mode, and navigation reversal loops. Incremental path: start local metrics emission + logs, then add docs dashboard queries and SLO thresholds. Risks/mitigations: PII leakage and cardinality explosion; mitigate by strict label allowlist and no freeform error strings in metrics. Acceptance criteria: operators can quantify top UX failure modes and verify post-change reductions.",
      "priority": "medium",
      "tags": [
        "innovation",
        "tui",
        "telemetry",
        "reliability",
        "performance"
      ],
      "scope": [
        "crates/tui/src/main.rs",
        "crates/tui/src/runtime/side_effects/dispatcher.rs",
        "crates/tui/src/app/actions/navigation.rs",
        "crates/tui/src/app/actions/search.rs",
        "docs/observability.md",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "crates/tui/src/main.rs:382-399 exports render duration and action queue depth but no UX outcome metrics",
        "crates/tui/src/runtime/side_effects/dispatcher.rs:46-59 traces action duration without user-flow success/failure dimensions",
        "crates/tui/tests inventory reports no validation for telemetry on UX transitions (onboarding/help/auth/navigation)",
        "Current navigation/auth confusion issues lack measurable baselines, blocking impact-driven prioritization"
      ],
      "plan": [
        "Define low-cardinality UX metric schema and event emission points for auth recovery and navigation confusion",
        "Emit counters/histograms in action handlers and side-effect completions with redacted labels only",
        "Add unit/integration tests validating metric emission for key UX transitions",
        "Document metric names, labels, and sample dashboards in docs/observability.md",
        "Set initial target thresholds (for example reduced repeated auth-failure loops) in docs",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming telemetry tests pass and docs include new metric definitions"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    },
    {
      "id": "RQ-0464",
      "status": "todo",
      "title": "Build dedicated UX regression suite for onboarding/help/auth/navigation",
      "description": "Opportunity type: reliability + strategic refactor enabler. Why it matters: several critical UX surfaces currently lack regression tests, making high-impact UX changes risky and slow. Proposed approach (minimal slice): add focused snapshot/integration suite for tutorial rendering, first-run startup wiring, error-details popup, and mode-aware navigation cues. Incremental path: start with highest-risk missing snapshots, then add startup and telemetry assertions. Risks/mitigations: snapshot brittleness; mitigate with deterministic fixtures and stable formatting helpers. Acceptance criteria: every critical TUI guidance path has deterministic regression coverage that fails on behavior drift.",
      "priority": "medium",
      "tags": [
        "innovation",
        "tui",
        "tests",
        "reliability",
        "ux"
      ],
      "scope": [
        "crates/tui/tests/snapshot_popups_tests.rs",
        "crates/tui/tests/snapshot_footer_tests.rs",
        "crates/tui/tests/tutorial_app_tests.rs",
        "crates/tui/tests/first_run_tests.rs",
        "crates/tui/tests/app_error_tests.rs",
        "crates/tui/tests/app_navigation_tests.rs",
        "make test",
        "make ci SKIP_LIVE_TESTS=1"
      ],
      "evidence": [
        "Test audit found no tutorial wizard UI snapshots despite onboarding complexity (crates/tui/src/onboarding/steps.rs and tutorial popup rendering)",
        "Test audit found no first-run startup integration test proving onboarding opens in real startup path (crates/tui/src/main.rs:260-322)",
        "Test audit found no ErrorDetails popup snapshot coverage even though error details are central to remediation",
        "Test audit found limited coverage for mode-specific help/nav rendering and keybind override interactions"
      ],
      "plan": [
        "Create new UX regression test modules grouped by concept (tutorial, auth details, navigation cues)",
        "Add deterministic snapshots for tutorial popup steps, error details popup, and mode-aware footer/help hints",
        "Add integration tests for startup first-run wiring and navigation mode transitions",
        "Add targeted assertions for keybind override impact on help/footer guidance",
        "Document new UX regression suite in docs/testing.md",
        "Verify by running `make ci SKIP_LIVE_TESTS=1` and confirming new UX regression tests are stable and passing"
      ],
      "notes": [],
      "request": "innovation scan finding",
      "created_at": "2026-02-10T16:29:08Z",
      "updated_at": "2026-02-10T16:29:08Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {
        "scan_agent": "scan-innovation"
      }
    }
  ]
}