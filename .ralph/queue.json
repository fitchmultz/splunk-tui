{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0325",
      "status": "todo",
      "title": "Create centralized TUI foundation files and ensure universal adoption",
      "priority": "high",
      "tags": [
        "tui",
        "foundation",
        "theme",
        "focus",
        "components",
        "architecture",
        "opentui-port"
      ],
      "scope": [
        "crates/tui/src/ui/theme.rs",
        "crates/tui/src/ui/components/",
        "crates/tui/src/focus.rs",
        "crates/tui/src/ui/layout/flex.rs",
        "crates/tui/src/ui/screens/",
        "crates/tui/src/ui/popup/",
        "crates/tui/src/ui/mod.rs",
        "crates/tui/src/lib.rs",
        "crates/tui/Cargo.toml",
        "make ci"
      ],
      "evidence": [
        "User request: Ensure centralized TUI files are being used by all TUI related code",
        "Reference file: /tmp/opentui-rust-features.md describes centralized foundation requirements",
        "Existing foundation: crates/tui/src/ui/layout/flex.rs already provides flexbox layout via taffy",
        "Missing foundation: No centralized theme/styling system exists",
        "Missing foundation: No centralized focus management system exists",
        "Missing foundation: No centralized component system (SelectList, Slider, DiffViewer, etc.)",
        "OpenTUI architecture requires: Theme system for consistent styling across all components",
        "OpenTUI architecture requires: FocusManager for keyboard navigation between components",
        "OpenTUI architecture requires: Reusable component library (SelectList, BigText, Slider, DiffViewer, etc.)",
        "Current TUI has 30+ screen files that need to use centralized foundation files",
        "AGENTS.md: Prefer shared abstractions over duplicated logic"
      ],
      "plan": [
        "Read /tmp/opentui-rust-features.md sections on Focus Management (10), Theme/Styling, and Components (5-12)",
        "Create crates/tui/src/ui/theme.rs with centralized color palette, styles, and theme management",
        "Create crates/tui/src/focus.rs with FocusManager struct for tracking component focus order",
        "Create crates/tui/src/ui/components/mod.rs as component library entry point",
        "Create crates/tui/src/ui/components/select_list.rs - Reusable SelectList<T> component",
        "Create crates/tui/src/ui/components/slider.rs - Slider component for numeric values",
        "Create crates/tui/src/ui/components/diff_viewer.rs - Diff viewer using similar crate",
        "Create crates/tui/src/ui/components/big_text.rs - ASCII font headers using tui-big-text",
        "Create crates/tui/src/ui/components/scrollable.rs - Scrollable container wrapper",
        "Create crates/tui/src/ui/components/line_numbers.rs - Line number widget with diagnostics",
        "Create crates/tui/src/ui/components/markdown.rs - Markdown renderer using pulldown-cmark",
        "Update crates/tui/src/ui/mod.rs to export theme and components modules",
        "Update crates/tui/src/lib.rs to export focus module",
        "Add missing dependencies to Cargo.toml: tui-big-text, similar, pulldown-cmark, tachyonfx if needed",
        "Audit all crates/tui/src/ui/screens/*.rs files and migrate to use centralized theme",
        "Audit all screen files and migrate to use FocusManager for keyboard navigation",
        "Update existing components (popup, toast) to use centralized theme",
        "Add tests for all new foundation modules in crates/tui/tests/",
        "Run make ci to verify all checks pass"
      ],
      "notes": [
        "This is foundational infrastructure - other TUI tasks depend on these centralized files",
        "flex.rs already exists and should be the model for other foundation files",
        "Theme system should provide: ColorPalette, StyleSet, and theme-aware helpers",
        "FocusManager should track: focus_order Vec<String>, current_focus index, next()/prev()/is_focused() methods",
        "Components should be generic where possible: SelectList<T: Display>",
        "Reference: /tmp/opentui-rust-features.md has code examples for all components",
        "After completion, ALL new TUI code should use these foundation files"
      ],
      "request": "Ensure centralized TUI files are being used by all TUI related code. See /tmp/opentui-rust-features.md for more information. Implement these if they do not exist. ALL TUI code should use the centralized files for consistent approach. Centralized TUI foundation files or equivalent.",
      "created_at": "2026-02-04T21:28:56Z",
      "updated_at": "2026-02-04T21:28:56Z",
      "depends_on": [],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0323",
      "status": "todo",
      "title": "Implement scrollable containers with tui-scrollview and focus management system",
      "priority": "medium",
      "tags": [
        "tui",
        "scrollview",
        "focus-management",
        "navigation",
        "tui-scrollview",
        "opentui-port"
      ],
      "scope": [
        "crates/tui/src/",
        "crates/tui/Cargo.toml",
        "Cargo.lock",
        "make ci"
      ],
      "evidence": [
        "User request: Implement core features from opentui (TS+Bun) into Rust Ratatui framework",
        "Feature file: /tmp/opentui-rust-features.md describes Scrollable Containers as Priority 3",
        "Feature file: /tmp/opentui-rust-features.md describes Focus Management as Priority 4",
        "Recommended crate: tui-scrollview = '0.3' for scrollable content",
        "Current TUI has scroll offset for search results; need proper scrollview for complex content",
        "Focus management needed for navigating between input fields, buttons, and lists",
        "OpenTUI has built-in focus handling; we need equivalent for Rust"
      ],
      "plan": [
        "Read /tmp/opentui-rust-features.md for detailed implementation guidance on scrollview and focus",
        "Add tui-scrollview = '0.3' dependency to Cargo.toml",
        "Create ScrollableContent wrapper component in crates/tui/src/components/scrollable.rs",
        "Implement render method using ScrollView and ScrollViewState for stateful scrolling",
        "Add scrollbar indicators to show scroll position",
        "Create FocusManager struct in crates/tui/src/input/focus.rs",
        "Implement focus_order Vec for component IDs and current_focus index",
        "Add next(), previous(), and is_focused() methods to FocusManager",
        "Integrate focus management into existing screen rendering (pass focus state to components)",
        "Update keybindings to support Tab/Shift+Tab for focus navigation",
        "Add tests for scrollview state management and focus transitions",
        "Run make ci to verify all checks pass"
      ],
      "notes": [
        "Reference file for implementation: /tmp/opentui-rust-features.md sections '4. Scrollable Containers' and '10. Focus Management'",
        "Alternative to custom FocusManager: tui-realm crate provides component-based architecture",
        "Sticky scroll feature useful for log tails (auto-scroll to bottom)",
        "Focus management enables keyboard-only navigation for accessibility"
      ],
      "request": "Series of tasks to implement these core features that are found in the TS + Bun framework opentui into our Rust based Ratatui framework. Read the file at /tmp/opentui-rust-features.md for the details.",
      "created_at": "2026-02-04T19:33:53Z",
      "updated_at": "2026-02-04T19:33:53Z",
      "depends_on": [
        "RQ-0322"
      ],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0324",
      "status": "todo",
      "title": "Implement advanced TUI components: diff viewer, big text, animations, and markdown",
      "priority": "medium",
      "tags": [
        "tui",
        "diff-viewer",
        "big-text",
        "animations",
        "markdown",
        "line-numbers",
        "slider",
        "select",
        "opentui-port"
      ],
      "scope": [
        "crates/tui/src/",
        "crates/tui/Cargo.toml",
        "Cargo.lock",
        "make ci"
      ],
      "evidence": [
        "User request: Implement core features from opentui (TS+Bun) into Rust Ratatui framework",
        "Feature file: /tmp/opentui-rust-features.md describes multiple advanced components",
        "Diff viewer: similar = '2.5' crate for unified/split diff views",
        "Big text: tui-big-text = '0.7' for ASCII font headers",
        "Animations: tachyonfx = '0.14' for shader-like effects",
        "Markdown: pulldown-cmark = '0.12' for markdown rendering",
        "Line numbers: custom implementation with diagnostic highlights",
        "Slider: custom implementation for value selection",
        "Select/Dropdown: custom or tui-realm-stdlib for lists"
      ],
      "plan": [
        "Read /tmp/opentui-rust-features.md for detailed implementation guidance on all advanced components",
        "Add similar = '2.5' for diff viewing capabilities",
        "Add tui-big-text = '0.7' for large ASCII headers (e.g., 'SPLUNK' banner)",
        "Add tachyonfx = '0.14' for animations and visual effects",
        "Add pulldown-cmark = '0.12' for markdown documentation rendering",
        "Create DiffViewer component in crates/tui/src/components/diff_viewer.rs using similar crate",
        "Create BigTextWidget wrapper using tui-big-text with PixelSize options",
        "Create AnimationController for tachyonfx effects (fade-in, transitions)",
        "Create MarkdownRenderer using pulldown-cmark Event parser",
        "Create LineNumberWidget with diagnostic highlight support (for SPL validation)",
        "Create Slider component for numeric value selection (e.g., time range)",
        "Create SelectList<T> component for dropdown selections",
        "Add tests for each component with sample data",
        "Run make ci to verify all checks pass"
      ],
      "notes": [
        "Reference file for implementation: /tmp/opentui-rust-features.md sections 5-12",
        "Priority per document: Diff (7), Big Text (5), Animations (6), Markdown (8)",
        "Diff viewer useful for comparing saved search versions or configuration changes",
        "Big text useful for branding headers or important status displays",
        "Animations should be subtle - focus on fade-in effects and smooth transitions",
        "Markdown rendering useful for help documentation and user guides"
      ],
      "request": "Series of tasks to implement these core features that are found in the TS + Bun framework opentui into our Rust based Ratatui framework. Read the file at /tmp/opentui-rust-features.md for the details.",
      "created_at": "2026-02-04T19:33:53Z",
      "updated_at": "2026-02-04T19:33:53Z",
      "depends_on": [
        "RQ-0323"
      ],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0320",
      "status": "todo",
      "title": "End-to-end TUI robustness validation and stress testing",
      "priority": "high",
      "tags": [
        "tui",
        "testing",
        "robustness",
        "e2e",
        "validation"
      ],
      "scope": [
        "crates/tui/tests/",
        "scripts/",
        "Makefile",
        "make test-live",
        "make ci"
      ],
      "evidence": [
        "User request: 'MAKE SURE EVERYTHING ACTUALLY WORKS'",
        "TUI has 50+ test files but coverage may have gaps in integration scenarios",
        "AGENTS.md: 'make ci' is the local gate before merging",
        "Project has live tests (test-live) for real Splunk server validation",
        "Tests include snapshot tests for UI regression prevention"
      ],
      "plan": [
        "Review existing test coverage: identify gaps in screen transitions, error paths, and async flows",
        "Add stress tests for rapid input sequences (key spam, quick navigation)",
        "Add tests for connection failure recovery and reconnection flows",
        "Validate session expiration handling: ensure graceful degradation and clear re-auth prompts",
        "Test with live Splunk instance: make test-live (requires configured .env.test)",
        "Verify snapshot tests are current and add any missing UI regression tests",
        "Test clipboard integration across different terminal emulators if possible",
        "Validate export functionality end-to-end with various formats and data sizes",
        "Run performance check: ensure TUI remains responsive with large result sets",
        "Document any manual testing steps needed for full validation",
        "Run full CI pipeline: make ci",
        "Verify all tests pass and TUI binary works correctly when installed"
      ],
      "notes": [],
      "request": "WE NEED A TASK OR TASKS TO MAKE SURE EVERYTHING ACTUALLY WORKS AND THE TUI IS NOT GLITCHY AND BUSTED. USERS EXPECT A ROBUST, USABLE EXPERIENCE WITH NO HICCUPS OR UNNECESSARY FLOWS. IT CANNOT BE CLUNKY OR HARD TO GRASP",
      "created_at": "2026-02-04T18:46:17Z",
      "updated_at": "2026-02-04T18:46:17Z",
      "depends_on": [
        "RQ-0319"
      ],
      "blocks": [],
      "relates_to": [],
      "custom_fields": {}
    }
  ]
}