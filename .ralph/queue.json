{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0014",
      "status": "todo",
      "title": "Improve CLI formatters to render non-string values and CSV escaping",
      "priority": "medium",
      "tags": [
        "cli",
        "formatting",
        "ux"
      ],
      "scope": [
        "crates/cli/src/formatters.rs",
        "crates/cli/src/commands/"
      ],
      "evidence": [
        "crates/cli/src/formatters.rs uses value.as_str().unwrap_or(\"\") for table/csv/xml formatting, dropping numbers/booleans/objects.",
        "CSV output is emitted without escaping commas or quotes, which can corrupt rows."
      ],
      "plan": [
        "Convert serde_json::Value to strings using a consistent formatter (stringify scalars, JSON for objects/arrays).",
        "Implement CSV escaping (quotes/double-quotes/newlines) for both headers and values.",
        "Expand formatter tests to cover numeric/boolean values and escaping."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0015",
      "status": "todo",
      "title": "Implement indexes --detailed flag or remove it",
      "priority": "medium",
      "tags": [
        "cli",
        "indexes",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/indexes.rs",
        "crates/cli/src/main.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/indexes.rs takes a _detailed flag but does not use it.",
        "CLI exposes --detailed in help, but behavior is identical to non-detailed output."
      ],
      "plan": [
        "Decide on detailed output fields (paths, retention, size limits) and implement them in the formatters.",
        "Wire the detailed flag through to the formatter output.",
        "Update CLI tests/help to reflect the detailed behavior."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0016",
      "status": "todo",
      "title": "Make cluster --detailed output format-consistent",
      "priority": "medium",
      "tags": [
        "cli",
        "cluster",
        "ux"
      ],
      "scope": [
        "crates/cli/src/commands/cluster.rs",
        "crates/cli/src/formatters.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/cluster.rs prints peers in plain text even when output_format is json/csv/xml.",
        "This mixes human-readable output with structured output formats, breaking parsers."
      ],
      "plan": [
        "Define a structured peers output type and extend formatters to render it in the selected output format.",
        "Gate the peers output on the same formatter rather than println! text.",
        "Add tests for the detailed mode in at least one structured format."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0017",
      "status": "todo",
      "title": "Define default behavior for `splunk jobs` when no flags are set",
      "priority": "medium",
      "tags": [
        "cli",
        "jobs",
        "ux"
      ],
      "scope": [
        "crates/cli/src/main.rs",
        "crates/cli/src/commands/jobs.rs"
      ],
      "evidence": [
        "crates/cli/src/commands/jobs.rs only runs list when --list is set; otherwise no output or error is produced.",
        "Users invoking `splunk jobs` without flags get a silent no-op."
      ],
      "plan": [
        "Decide on default behavior (list jobs) or enforce mutually exclusive flags with clap.",
        "Implement the default or clap validation and update help text.",
        "Add tests for the default/no-flag behavior."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0018",
      "status": "todo",
      "title": "Enable search results scrolling in the TUI search screen",
      "priority": "medium",
      "tags": [
        "tui",
        "search",
        "ux"
      ],
      "scope": [
        "crates/tui/src/app.rs",
        "crates/tui/tests/app_tests.rs",
        "crates/tui/tests/snapshot_tests.rs"
      ],
      "evidence": [
        "crates/tui/src/app.rs maintains search_scroll_offset but navigation helpers only update Jobs/Indexes selection, not search results.",
        "Search screen accepts PageUp/PageDown actions but search_scroll_offset is never updated."
      ],
      "plan": [
        "Add scroll handling for search results (PageUp/PageDown/Home/End) that updates search_scroll_offset with bounds checks.",
        "Update help text or footer hints to indicate scrolling controls on the Search screen.",
        "Add tests to cover search scrolling and rendering with offsets."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0019",
      "status": "todo",
      "title": "Centralize layout constants for toast rendering",
      "priority": "low",
      "tags": [
        "tui",
        "ui",
        "consistency"
      ],
      "scope": [
        "crates/tui/src/ui/toast.rs",
        "crates/tui/src/app.rs",
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/ui/toast.rs defines local HEADER_HEIGHT/FOOTER_HEIGHT constants that duplicate app.rs values.",
        "app.rs exports HEADER_HEIGHT/FOOTER_HEIGHT via lib.rs, but toast.rs does not use them."
      ],
      "plan": [
        "Use the shared layout constants from app.rs (via crate root) in toast rendering.",
        "Remove the duplicated constants from toast.rs to avoid drift.",
        "Run existing toast tests to confirm behavior is unchanged."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0020",
      "status": "todo",
      "title": "Fix lib.rs docs example to match App::new signature",
      "priority": "low",
      "tags": [
        "docs",
        "tui"
      ],
      "scope": [
        "crates/tui/src/lib.rs"
      ],
      "evidence": [
        "crates/tui/src/lib.rs docs example calls App::new() but App::new takes an Option<PersistedState> parameter.",
        "Only Default is implemented, so the example as written does not compile."
      ],
      "plan": [
        "Update the example to use App::new(None) or App::default().",
        "Run doc tests (or add a compile test) to ensure the example compiles.",
        "Confirm documentation remains accurate after the change."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    },
    {
      "id": "RQ-0022",
      "status": "todo",
      "title": "Add --help/usage with examples to live test script",
      "priority": "low",
      "tags": [
        "scripts",
        "docs",
        "workflow"
      ],
      "scope": [
        "scripts/test-live-server.sh"
      ],
      "evidence": [
        "scripts/test-live-server.sh is executable but does not handle --help or document usage/examples.",
        "AGENTS.md requires executable scripts to provide a useful --help menu with examples."
      ],
      "plan": [
        "Add argument parsing for --help and print usage with example commands.",
        "Document required environment variables or prerequisites in the help output.",
        "Add a small test or lint check (if available) to ensure help output stays in sync."
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-20T04:18:41Z",
      "updated_at": "2026-01-20T04:18:41Z",
      "depends_on": []
    }
  ]
}
