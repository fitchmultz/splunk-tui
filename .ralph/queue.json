{
  "version": 1,
  "tasks": [
    {
      "id": "RQ-0153",
      "status": "todo",
      "title": "Improve config profile missing error handling",
      "priority": "low",
      "tags": [
        "ux",
        "config",
        "error-handling"
      ],
      "scope": [
        "crates/config/src/loader.rs"
      ],
      "evidence": [
        "loader.rs lines 294-309: Profile missing logic allows partial overrides",
        "If any single auth field is provided via env/CLI, profile not found error is suppressed",
        "Could lead to confusing errors later when connection fails due to incomplete config",
        "Should validate all required fields are present, not just any field"
      ],
      "plan": [
        "Review profile missing validation logic",
        "Ensure all required fields are validated, not just any field",
        "Provide clear error messages indicating which fields are missing",
        "Add tests for partial override scenarios",
        "Verify make ci passes"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0154",
      "status": "todo",
      "title": "Add cancellation token checks to all long-running operations",
      "priority": "low",
      "tags": [
        "ux",
        "cli",
        "cancellation"
      ],
      "scope": [
        "crates/cli/src/commands/"
      ],
      "evidence": [
        "Cancellation token is passed to run_command() but not all commands check it",
        "Some long-running operations may not respond to Ctrl+C",
        "Inconsistent cancellation behavior across commands",
        "Users expect consistent Ctrl+C handling"
      ],
      "plan": [
        "Audit all command handlers for cancellation token usage",
        "Add cancellation checks to long-running operations",
        "Use tokio::select! pattern consistently",
        "Test cancellation behavior for each command",
        "Verify make ci passes"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0155",
      "status": "todo",
      "title": "Add input channel backpressure handling for TUI",
      "priority": "low",
      "tags": [
        "performance",
        "tui",
        "channel"
      ],
      "scope": [
        "crates/tui/src/main.rs"
      ],
      "evidence": [
        "main.rs lines 126-150: input event stream sends every key press as an action",
        "Rapid key presses could saturate the unbounded channel",
        "No backpressure handling or action coalescing",
        "Could cause memory growth during high-frequency input"
      ],
      "plan": [
        "Evaluate channel saturation risk",
        "Consider adding action coalescing for high-frequency events",
        "Add backpressure handling if needed",
        "Test with rapid input scenarios",
        "Verify make ci passes"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0156",
      "status": "todo",
      "title": "Add tests for error handling paths",
      "priority": "low",
      "tags": [
        "testing",
        "error-handling",
        "coverage"
      ],
      "scope": [
        "crates/client/src/",
        "crates/*/tests/"
      ],
      "evidence": [
        "Tests focus primarily on happy paths",
        "Error handling paths (network failures, auth failures, malformed responses) need coverage",
        "Many error variants not exercised in tests",
        "Important for reliability and regression prevention"
      ],
      "plan": [
        "Identify error handling paths lacking coverage",
        "Add tests for network failure scenarios",
        "Add tests for authentication failure handling",
        "Add tests for malformed response handling",
        "Verify make ci passes with new tests"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0157",
      "status": "todo",
      "title": "Improve test isolation for environment variable manipulation",
      "priority": "low",
      "tags": [
        "testing",
        "config",
        "isolation"
      ],
      "scope": [
        "crates/config/src/loader.rs"
      ],
      "evidence": [
        "loader.rs tests use unsafe { std::env::set_var(...) } and remove_var",
        "While serial_test helps, this is still unsafe in Rust 2024 edition",
        "Tests use global state which can cause issues with concurrent execution",
        "Could cause flaky tests or test pollution"
      ],
      "plan": [
        "Consider using temp-env crate for safer environment manipulation",
        "Evaluate scope of test isolation improvements needed",
        "Refactor tests to use isolated environment handling",
        "Verify make ci passes"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    },
    {
      "id": "RQ-0158",
      "status": "todo",
      "title": "Verify TUI keybindings documentation stays in sync",
      "priority": "low",
      "tags": [
        "documentation",
        "tui",
        "ci"
      ],
      "scope": [
        "docs/usage.md",
        "crates/tui/src/bin/generate_tui_docs.rs",
        "Makefile"
      ],
      "evidence": [
        "Documentation has markers for auto-generated keybindings section",
        "generate_tui_docs.rs tool exists to regenerate keybindings",
        "No CI check to ensure docs stay in sync with code",
        "Documentation could drift from actual behavior"
      ],
      "plan": [
        "Verify lint-docs Makefile target checks keybindings sync",
        "Add CI check if not present (part of make ci)",
        "Ensure generate_tui_docs.rs runs and validates output",
        "Update AGENTS.md with documentation maintenance guidance",
        "Verify make ci passes"
      ],
      "notes": [],
      "request": "scan finding",
      "created_at": "2026-01-28T00:00:00Z",
      "updated_at": "2026-01-28T00:00:00Z",
      "depends_on": [],
      "custom_fields": {}
    }
  ]
}